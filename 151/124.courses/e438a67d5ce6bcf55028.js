webpackJsonp([124],{307:function(t,e,n){"use strict";var a=r(n(520)),i=r(n(543));function r(t){return t&&t.__esModule?t:{default:t}}nb.substance0057=extendsClass(ScienceMain,{frame0:function(){var t=this,e=t.timeline,n=t.car,r=t.btn,o=t.table;a.default.init.apply(e);var s=[],d={x:n.x,y:n.y+10},l=i.default.init(d,d,t,{txtOffsetY:30,fontSize:30}),u=l.getTxt();u.alpha=0,function(){t.addChild(n),n.defaultX=n.x,n.defaultY=n.y;for(var i=0;i<2;i++){var o=n["yellow"+i],d=o.yMask;d.defaultY=d.y,d.y-=46,o.mask=d.children[0],s.push(d)}e.on(a.default.event.CLICK_NODE,c),r.on(TouchEvent.TAP,g),r.interactive=!0}(),h(-1);var f=0;function c(t){var e=46*(parseInt(t.index)-f);s[0].y===s[0].defaultY&&(e=46*(parseInt(t.index)+1)),f=parseInt(t.index),TweenMax.to(r,.3,{alpha:1}),n.x!==n.defaultX&&TweenMax.to(n,1,{x:n.defaultX,y:n.defaultY}),TweenMax.to(s,.3,{y:"-= "+e,onComplete:function(){r.interactive=!0}})}var x=[200,450,800],v=[5.4,15.8,40.2];function g(){u.alpha=1,r.interactive=!1,e.children.forEach(function(t){t.interactive=!1}),TweenMax.to(r,.3,{alpha:0}),TweenMax.to(s,1,{y:s[0].defaultY,onComplete:function(){e.children.forEach(function(t){t.interactive=!0})}}),TweenMax.to(n,f+1,{x:"+= "+x[f],ease:Power1.easeInOut,onUpdate:function(){l.render(d,{x:n.x,y:n.y+10},function(t){return(t/x[f]*v[f]).toFixed(2)+"cm"})},onComplete:function(){h(f,u.text)}})}function h(t,e){if(t<0)for(var n=0;n<3;n++){o["num"+n].visible=!1}else{var a=o["num"+t];a.text=e,a.visible=!0}}},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"我们知道用橡皮筋可以驱动小车，那橡皮筋在车轴上缠绕的圈数与小车行驶的距离有关系么？",labName:"缠绕圈数与小车距离",title0:"选择橡皮的缠绕圈数，点击出发，观察小车行驶的距离并记录",CONCLUSION:"橡皮筋在车轴上缠绕的圈数与小车行驶 距离有关系。缠绕圈数越多，行驶距离越远，缠绕圈数越少，行驶距离越近。",newLayOut:!0,noTitle:!0}}),t.exports=nb.substance0057},520:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var t,e,n=this;if(n.bgMask){var i=n.bgMask.getChildAt(0);n.progressBar.mask=i,i.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,s=[];n.drag.lastPos={x:n.drag.x,y:n.drag.y};for(var d=0;d<int.MAX_VALUE;d++){var l=this["a"+d];if(void 0===l){e="vertical"===r?this["a"+(d-1)].y:this["a"+(d-1)].x,o=d;break}s.push(l),0===d&&(t="vertical"===r?l.y:l.x),l.addEventListener(TouchEvent.TAP,function(){var t=this;"vertical"===r?TweenMax.to(n.drag,.5,{y:this.y}):TweenMax.to(n.drag,.5,{x:this.x,onComplete:function(){n.emit(a.event.CLICK_NODE_REACHED,{index:t.name.substr(1,1)})}}),this.totalFrames&&(s.forEach(function(t){return t.currentFrame=0}),this.currentFrame=1),n.drag.lastPos={x:this.x,y:this.y},n.emit(a.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(i){i?(NBDrag.addDrag(n.drag),n.drag.on(NBDrag.event.START_DRAG,function(){var i=(n.drag.x-t)/(e-t);n.emit(a.event.START_DRAG,{time:i})}),n.drag.on(NBDrag.event.DRAG_MOVE,function(){var i=(n.drag.x-t)/(e-t);n.emit(a.event.DRAGING,{time:i})}),n.drag.on(NBDrag.event.STOP_DRAG,function(){var i=(n.drag.x-t)/(e-t);n.emit(a.event.STOP_DRAG,{time:i}),i>=1&&n.emit(a.event.ON_COMPLETE,{time:i})})):NBDrag.removeDrag(n.drag)},n.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==n._align_){var a=o-1;if("vertical"===r){var i=Math.round((this.y-t)/(e-t)*a);i<0&&(i=0)}else{var s=Math.round((this.x-t)/(e-t)*a);s<0&&(s=0)}}}),n.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){c()});var u=!1;n.drag.constY=n.drag.y;var f,c=function(){n.drag.y=n.drag.constY,n.drag.x>=e&&(n.drag.x=e),n.drag.x<=t&&(n.drag.x=t);var i=(n.drag.x-t)/(e-t);if(i<1){u=!1,n.emit(a.event.ON_PLAY,{time:i});for(var r=0;r<s.length;r++)n.drag.lastPos.x<=s[r].x&&n.drag.x>s[r].x&&n.emit(a.event.REACHED_NODE,{index:r})}else u||(u=!0,n.emit(a.event.ON_COMPLETE,{time:i}));(n.drag.line0&&(n.drag.line0.rotation=1800*i*Math.PI/180,n.drag.line1.rotation=360*i*Math.PI/180),n.bgMask)&&(n.bgMask.getChildAt(0).scale.x=i);n.drag.lastPos={x:n.drag.x,y:n.drag.y}};this.getNodeCount=function(){return o},this.setNodePos=function(t){var e=this["a"+t];"vertical"===r?n.drag.y=e.y:n.drag.x=e.x},nb.MovieClip.ticker.add(function(){n._auto_&&!n.drag.isDragging&&("vertical"===r?n.drag.y+=n._speed_:n.drag.x+=n._speed_,c())}),this.setAutoPlay=function(t,e){this._auto_=t,this._speed_=e||.1},this.setAutoAlign=function(t){this._align_=t},this.setMomentsPause=function(t,e,a){clearTimeout(f),t&&!n.NOTafterStopPlay?(n.setAutoPlay(!1),clearTimeout(f),n.setAutoPlay(!1),f=setTimeout(function(){n.setAutoPlay(!0,a)},e)):n.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,n.bgMask)&&(n.bgMask.getChildAt(0).scale.x=0)}}};e.default=a},543:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={event:{},init:function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!t||!e||!n)return console.error("请传入必要参数startP, endP, lineParent"),!1;var i=Object.assign({lineColor:16777215,lineAlpha:1,lineWidth:2,txtOffsetX:0,txtOffsetY:0,fontSize:45,fontColor:16777215,textUnit:"cm"},a),r=i.lineColor,o=i.lineWidth,s=i.lineAlpha,d=i.txtOffsetX,l=i.txtOffsetY,u=i.fontSize,f=i.fontColor,c=i.textUnit,x=new PIXI.Sprite,v=new PIXI.Graphics;n.addChild(v),h(t,e);var g=new PIXI.Text("0"+c,{font:"normal "+$s(u)+'px "Microsoft Yahei"',fill:f});function h(t,e){v.clear(),v.beginFill(r,s),v.lineStyle(o,r,s),v.moveTo(t.x,t.y),v.lineTo(e.x,e.y),v.moveTo(t.x,t.y-20),v.lineTo(t.x,t.y+20),v.moveTo(e.x,e.y-20),v.lineTo(e.x,e.y+20)}function y(t,e){g.pivot.set(g.width/2,g.height/2),g.x=t.x+(e.x-t.x)/2+d;var n=t.y>e.y?t.y:e.y;g.y=n+l}return n.addChild(g),y(t,e),x.render=function(t,e,n){h(t,e),y(t,e);var a=t.x-e.x,i=t.y-e.y;g.text="function"==typeof n?n(Math.sqrt(a*a+i*i)):""},x.removeLine=function(){n.removeChild(v),n.removeChild(g)},x.getTxt=function(){return g},x.getLine=function(){return v},x}};e.default=a}});