webpackJsonp([98],{169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){for(var i=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,o=n||!1,d=a||{addArrow:!1,type:"horizontal",scale:1},s=new PIXI.Container,c=0;c<3;++c){var l=c+1,h=PIXI.Sprite.fromFrame("TAP_1"+l);h.x=-h.width/2,h.y=-h.height/2;var u=new PIXI.Container;u.addChild(h),s.addChild(u)}var f=0;if(d.direction)switch(d.direction){case"top":f=-Math.PI/2;break;case"bottom":f=Math.PI/2;break;case"left":f=Math.PI;break;case"right":f=0;break;default:f=0}s.filters=[r];for(var p=0;p<s.children.length;p++){var v=s.children[p];v.scale.x=v.scale.y=2,p<2&&M(v,.75*p)}if(i.addChild(s),d.addArrow){var w,I;if(d.direction){w=PIXI.Sprite.fromFrame("oneArrow"),I=new PIXI.extras.MovieClip([w]);var T=d.scale?d.scale:1;I.scale.x=I.scale.y=T,I.pivot={x:0,y:I.height/2},I.rotation=f}else{w=PIXI.Sprite.fromFrame("NBarrow"),(I=new PIXI.extras.MovieClip([w])).pivot={x:I.width/2,y:I.height/2};var x=d.scale?d.scale:1;I.scale.x=I.scale.y=x,"horizontal"!==(d.type?d.type:"horizontal")&&(I.rotation=Math.PI/2)}i.addChild(I),i.arrow=I,i.addEventListener("hideArrow",function(){I.alpha=0,I.visible=!1}),i.addEventListener("showArrow",function(){I.alpha=1,I.visible=!0})}s.alpha=.4;var m=new PIXI.Graphics;function M(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return m.beginFill(16776960,0),m.drawRect(-50,-50,100,100),i.addChild(m),i.addEventListener(MouseEvent.MOUSE_OVER,function(){s.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){s.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!o&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=t,i.setColor=function(e){var t=e>>16,n=e>>8&255,a=255&e;r._loadMatrix([t,0,0,0,0,0,n,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),s.filters=[r]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(d.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(t),t.pivot={x:0,y:I.height/2},t.rotation=Math.PI/2*(e+1)}else{var n=new PIXI.Container;n.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(n),n.pivot={x:I.width/2,y:I.height/2},n.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},294:function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e:{default:e}}(n(169));nb.substance0029=extendsClass(ScienceMain,{frame0:function(){var e=this,t=e.drum,n=e.drum1,i=e.forkGroup,r=e.power,o=[],d=i.club,s=d.ball,c=1,l=0,h=$s(500);t.ani.startY=t.ani.y,n.ani.startY=n.ani.y;var u=(0,a.default)(s.x,s.y,!0,{addArrow:!0,direction:"right"}),f=(0,a.default)(0,-30,!0,{addArrow:!0});function p(){o.filter(function(e){return e._id!==c}).forEach(function(e){e.visible=!0}),f&&(i.removeChild(f),f=null,instance.NBDownTip.hideTip())}function v(){o.forEach(function(e,t){i.hitTest(e)&&(c=t),e.visible=!1}),function(t){var n=e["forkGroup"+t],a=n.x,r=n.y;TweenMax.to(i,.5,{x:a,y:r})}(c)}function w(){this._isTouchStart=!0,NBDrag.removeDrag(i),TweenMax.killTweensOf(d),u&&(d.removeChild(u),u=null,instance.NBDownTip.hideTip())}function I(e){if(this._isTouchStart){var t=e.data.global,n=d.toGlobal({x:0,y:0}),a={x:t.x-n.x,y:t.y-n.y},i=Math.PI-Math.atan2(a.x,a.y);i>=Math.PI/2&&(i=d.rotation<=Math.PI/4?0:Math.PI/2),d.rotation=i,function(e){r.txt.text=l=e/(Math.PI/20)>>0}(i)}}function T(){this._isTouchStart=!1,function(e){var a=new TimelineMax({onComplete:e}),r=function(e){var t=(e.y0-e.y1)/(e.x0-e.x1),n=e.y0-t*e.x0;return{k:t,b:n}}({x0:0,y0:8.77,x1:10,y1:0}),o=1e3*(l*r.k+r.b),s=SoundManager.play(instance.const.FORK_SOUND,"none",300,o,0,1,0);a.to(d,.3,{rotation:-.09,ease:Power3.easeIn,onComplete:function(){TweenMax.killTweensOf(i.tuningFork.ani),i.tuningFork.ani.rotation=0;var e=TweenMax.to(i.tuningFork,.1,{currentFrame:5,repeat:4*l,onUpdate:function(){var a=e.progress();x(t,a),x(n,a)},onComplete:function(){s.stop(),!u&&f&&(i.addChild(f),instance.NBDownTip.showTip("拖动音叉在不同位置敲击音叉观察现象"))}}),a=0,r=2*l*.2,o=TweenMax.to(i.tuningFork.ani,r,{onComplete:function(){s.stop(),s.stop(),!u&&f&&(i.addChild(f),instance.NBDownTip.showTip("拖动音叉在不同位置敲击音叉观察现象"))},onUpdate:function(){if(o){var r=o.progress(),d=-.05*r+.05,s=d*Math.sin(a);a+=1,i.tuningFork.ani.rotation=s;var c=e.progress();x(t,c),x(n,c)}}});TweenMax.to(s,r,{volume:0})}}),a.to(d,.5,{rotation:0,ease:window.Elastic.easeOut.config(1.5,.08)})}(function(){NBDrag.addDrag(i)})}function x(e,t){var n=200*c;if(!(n>h)){var a=l,i=20*t,r=100*(h-n)/h*Math.sin(a*i)/(i+1);r>e.ani.startY+10&&(r=e.ani.startY+10),e.ani.y=r}}d.addChild(u),d.addChild(s),instance.NBDownTip.showTip("拖动小锤用不同力度敲击音叉观察现象"),function(){for(var t=e.drumMask.children[0],a=0;a<3;a++){var r=e["forkGroup"+a];o.push(r),r.visible=!1,r._id=a}n.mask=t,i.addEventListener(NBDrag.event.START_DRAG,p),i.addEventListener(NBDrag.event.STOP_DRAG,v),NBDrag.addDrag(i),s.addEventListener(TouchEvent.TOUCH_BEGIN,w),s.addEventListener(TouchEvent.TOUCH_END,T),s.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,T),s.addEventListener(TouchEvent.TOUCH_MOVE,I)}()},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),SoundManager.register({src:n(569),id:instance.const.FORK_SOUND}),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"制作模拟鼓膜振动的装置，观察比较它的振动。",labName:"比较“鼓膜”的振动",title0:"在不同距离敲击音叉观察现象",CONCLUSION:"声音能够引起“鼓膜”振动，距离越近越明显，声音越强越明显。",newLayOut:!0},const:{FORK_SOUND:"forkSound"},event:{}}),e.exports=nb.substance0029},569:function(e,t,n){e.exports=n.p+"bb3999a31d07fc699b214fc0add8dd1e.mp3"}});