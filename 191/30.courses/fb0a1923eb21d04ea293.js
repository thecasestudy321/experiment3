webpackJsonp([30],{169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){for(var o=new PIXI.Container,i=new PIXI.filters.ColorMatrixFilter,r=n||!1,d=a||{addArrow:!1,type:"horizontal",scale:1},s=new PIXI.Container,l=0;l<3;++l){var c=l+1,h=PIXI.Sprite.fromFrame("TAP_1"+c);h.x=-h.width/2,h.y=-h.height/2;var u=new PIXI.Container;u.addChild(h),s.addChild(u)}var f=0;if(d.direction)switch(d.direction){case"top":f=-Math.PI/2;break;case"bottom":f=Math.PI/2;break;case"left":f=Math.PI;break;case"right":f=0;break;default:f=0}s.filters=[i];for(var p=0;p<s.children.length;p++){var v=s.children[p];v.scale.x=v.scale.y=2,p<2&&x(v,.75*p)}if(o.addChild(s),d.addArrow){var C,I;if(d.direction){C=PIXI.Sprite.fromFrame("oneArrow"),I=new PIXI.extras.MovieClip([C]);var w=d.scale?d.scale:1;I.scale.x=I.scale.y=w,I.pivot={x:0,y:I.height/2},I.rotation=f}else{C=PIXI.Sprite.fromFrame("NBarrow"),(I=new PIXI.extras.MovieClip([C])).pivot={x:I.width/2,y:I.height/2};var m=d.scale?d.scale:1;I.scale.x=I.scale.y=m,"horizontal"!==(d.type?d.type:"horizontal")&&(I.rotation=Math.PI/2)}o.addChild(I),o.arrow=I,o.addEventListener("hideArrow",function(){I.alpha=0,I.visible=!1}),o.addEventListener("showArrow",function(){I.alpha=1,I.visible=!0})}s.alpha=.4;var g=new PIXI.Graphics;function x(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return g.beginFill(16776960,0),g.drawRect(-50,-50,100,100),o.addChild(g),o.addEventListener(MouseEvent.MOUSE_OVER,function(){s.alpha=.6}),o.addEventListener(MouseEvent.MOUSE_OUT,function(){s.alpha=.4}),o.addEventListener(TouchEvent.TOUCH_BEGIN,function(){o.emit(o.event.TAP),!r&&o.parent&&o.parent.removeChild(o)}),o.x=e,o.y=t,o.setColor=function(e){var t=e>>16,n=e>>8&255,a=255&e;i._loadMatrix([t,0,0,0,0,0,n,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),s.filters=[i]},o.setRotation=function(e){o.rotation=e},o.showAllDir=function(){if(d.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),o.addChild(t),t.pivot={x:0,y:I.height/2},t.rotation=Math.PI/2*(e+1)}else{var n=new PIXI.Container;n.addChild(PIXI.Sprite.fromFrame("NBarrow")),o.addChild(n),n.pivot={x:I.width/2,y:I.height/2},n.rotation=o.rotation+Math.PI/2}},o.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&o.scale.set(.6,.6),o}},441:function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e:{default:e}}(n(169));nb.substance0619=extendsClass(ScienceMain,{frame0:function(){var e=this,t=e.hammer,n=t.dragArea,o=t.head,i=!1,r=Math.PI,d=(0,a.default)(-140,0,!1,{addArrow:!0,direction:"top"});function s(){instance.NBDownTip.hideTip(),w(t.targetClone,.3)}function l(){var n=e.toLocal(this.toGlobal(new PIXI.Point));t.x=n.x+this.width/2,t.y=n.y+this.height/2,w(t.targetClone,.3)}!function(){$("body").animate({backgroundColor:"#2D2C2B"},300),instance.NBDownTip.showTip("移动小锤到钉子旁"),n.initX=n.x,n.initY=n.y,t.initX=t.x,t.initY=t.y,NBDrag.addDrag(n),n.addEventListener(NBDrag.event.START_DRAG,s),n.addEventListener(NBDrag.event.DRAG_MOVE,l),n.addEventListener(NBDrag.event.STOP_DRAG,h),o.addEventListener(TouchEvent.TOUCH_BEGIN,u),o.addEventListener(TouchEvent.TOUCH_END,I),o.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,I);var a=t.name;t.targetClone=[],t.rotationClone=[];for(var i=0;i<6;i++){var r=t.clone();if(r.alpha=0,i<3){var d=e["hammerTarget"+i];r.position.set(d.x,d.y),r.id=i,t.targetClone.push(r)}else r.rotation=Math.PI/6*(i-2),t.rotationClone.push(r),r.position=t.position;e.hammer=t,t.name=a}}();var c=-1;function h(){n.x=n.initX,n.y=n.initY,w(t.targetClone,0);var e=function(){for(var e=null,n=2;n>=0;n--)if(t.hitTest(t.targetClone[n])){e=t.targetClone[n];break}return e}();e?(c=e.id,t.position.set(e.x,e.y),i=!0,t.tapPoint||(t.addChild(d),t.tapPoint=d)):(i=!1,TweenMax.to(t,.5,{x:t.initX,y:t.initY}))}function u(){w(t.rotationClone,.3),o.addEventListener(TouchEvent.TOUCH_MOVE,f)}function f(n){w(t.rotationClone,.3);var a=e.toLocal(n.data.global),o=m(t.position,a);t.rotation=o;var i=g(o);i<3&&(t.rotationClone[i].alpha=.6)}var p=[r/21,r/16,r/12],v=[.2,.5,1],C=["duanSound","zhongSound","changSound"];function I(n){w(t.rotationClone,0),o.removeListener(TouchEvent.TOUCH_MOVE,f);var a=e.toLocal(n.data.global),r=g(m(t.position,a));if(r<3){t.rotation=t.rotationClone[r].rotation;var d=new TimelineMax;d.add(TweenMax.to(t,.3,{rotation:0,ease:Cubic.easeIn,onComplete:function(){i&&function(e,t,n){e.sound&&e.sound.stop();e.sound=SoundManager.play(t,null,null,null,null,n)}(t,C[c],v[r])}})),d.add(TweenMax.to(t,.1,{rotation:p[r],ease:Cubic.easeOut})),d.add(TweenMax.to(t,.1,{rotation:0,ease:Cubic.easeIn}))}else t.rotation=0}function w(e,t){for(var n=0;n<e.length;n++)e[n].alpha=t}function m(e,t){var n=Math.atan2(e.y-t.y,e.x-t.x);return n<0&&(n=0),n>Math.PI/2&&(n=Math.PI/2),n}function g(e){return e<=r/12?3:e>r/12&&e<=r/4?0:e>r/4&&e<=5*r/12?1:2}},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),SoundManager.register({src:n(578),id:instance.const.CHANG_SOUND}),SoundManager.register({src:n(579),id:instance.const.DUAN_SOUND}),SoundManager.register({src:n(580),id:instance.const.ZHONG_SOUND}),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"用小锤敲击铁钉，听听不同铁钉发出的声音。",labName:"铁钉发出的声音",title0:"用小锤敲击不同的钉子",CONCLUSION:"用轻重不同的方式敲击铁钉，铁钉发出强弱不同的声音。",newLayOut:!0},const:{CHANG_SOUND:"changSound",ZHONG_SOUND:"zhongSound",DUAN_SOUND:"duanSound"},event:{}}),e.exports=nb.substance0619},578:function(e,t,n){e.exports=n.p+"99bc15e78c45eb6628a347cf8b3673e4.mp3"},579:function(e,t,n){e.exports=n.p+"9adffe3c2fdf756650c1df3457bfa397.mp3"},580:function(e,t,n){e.exports=n.p+"5c76918ee6ed6de00e7ef0a6d45a5472.mp3"}});