webpackJsonp([195],{169:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(a,e,t,n){for(var o=new PIXI.Container,i=new PIXI.filters.ColorMatrixFilter,r=t||!1,d=n||{addArrow:!1,type:"horizontal",scale:1},l=new PIXI.Container,h=0;h<3;++h){var s=h+1,w=PIXI.Sprite.fromFrame("TAP_1"+s);w.x=-w.width/2,w.y=-w.height/2;var f=new PIXI.Container;f.addChild(w),l.addChild(f)}var p=0;if(d.direction)switch(d.direction){case"top":p=-Math.PI/2;break;case"bottom":p=Math.PI/2;break;case"left":p=Math.PI;break;case"right":p=0;break;default:p=0}l.filters=[i];for(var c=0;c<l.children.length;c++){var x=l.children[c];x.scale.x=x.scale.y=2,c<2&&y(x,.75*c)}if(o.addChild(l),d.addArrow){var m,u;if(d.direction){m=PIXI.Sprite.fromFrame("oneArrow"),u=new PIXI.extras.MovieClip([m]);var v=d.scale?d.scale:1;u.scale.x=u.scale.y=v,u.pivot={x:0,y:u.height/2},u.rotation=p}else{m=PIXI.Sprite.fromFrame("NBarrow"),(u=new PIXI.extras.MovieClip([m])).pivot={x:u.width/2,y:u.height/2};var M=d.scale?d.scale:1;u.scale.x=u.scale.y=M,"horizontal"!==(d.type?d.type:"horizontal")&&(u.rotation=Math.PI/2)}o.addChild(u),o.arrow=u,o.addEventListener("hideArrow",function(){u.alpha=0,u.visible=!1}),o.addEventListener("showArrow",function(){u.alpha=1,u.visible=!0})}l.alpha=.4;var T=new PIXI.Graphics;function y(a,e){TweenMax.to(a,1.5,{delay:e,alpha:0,repeat:-1}),TweenMax.to(a.scale,1.5,{x:5,y:5,delay:e,repeat:-1})}return T.beginFill(16776960,0),T.drawRect(-50,-50,100,100),o.addChild(T),o.addEventListener(MouseEvent.MOUSE_OVER,function(){l.alpha=.6}),o.addEventListener(MouseEvent.MOUSE_OUT,function(){l.alpha=.4}),o.addEventListener(TouchEvent.TOUCH_BEGIN,function(){o.emit(o.event.TAP),!r&&o.parent&&o.parent.removeChild(o)}),o.x=a,o.y=e,o.setColor=function(a){var e=a>>16,t=a>>8&255,n=255&a;i._loadMatrix([e,0,0,0,0,0,t,0,0,0,0,0,n,0,0,0,0,0,255,0],!1),l.filters=[i]},o.setRotation=function(a){o.rotation=a},o.showAllDir=function(){if(d.direction)for(var a=0;a<3;a++){var e=new PIXI.Container;e.addChild(PIXI.Sprite.fromFrame("oneArrow")),o.addChild(e),e.pivot={x:0,y:u.height/2},e.rotation=Math.PI/2*(a+1)}else{var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("NBarrow")),o.addChild(t),t.pivot={x:u.width/2,y:u.height/2},t.rotation=o.rotation+Math.PI/2}},o.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&o.scale.set(.6,.6),o}},455:function(a,e,t){"use strict";var n=function(a){return a&&a.__esModule?a:{default:a}}(t(169));nb.substance0635=extendsClass(ScienceMain,{frame0:function(){var a=this;a.jiandao.jiandaoHit.alpha=0,a.jiandao1.alpha=0,a.bottle0.alpha=0,a.sand.alpha=0,a.sand1.alpha=0,a.txt1.alpha=0,a.txt2.alpha=0,a.water1.alpha=0,a.wateref.alpha=0,a.water.visible=!1,a.water.wateref.alpha=0,a.water.setCurrentCapacity("50%"),TweenMax.to(a.bottle0.sand3.scale,0,{y:0}),a.bottle0.sand3.mask=a.bottle0.ref.children[0];var e=(0,n.default)(0,0),t=(0,n.default)(a.water.width/2,a.water.height/2);a.jiandao.addChild(e),NBDrag.addDrag(a.jiandao),a.jiandao.addEventListener(NBDrag.event.START_DRAG,function(){a.jiandao1.alpha=.4,a.jiandao.removeChild(e),a.txt0.alpha=0});var o=a.jiandao.x,i=a.jiandao.y;a.jiandao.addEventListener(NBDrag.event.STOP_DRAG,function(){a.jiandao.hitTest(a.jiandao1)?(a.jiandao.interactive=!1,TweenMax.to(a.jiandao,.5,{x:a.jiandao1.x+360,y:a.jiandao1.y+40,onComplete:function(){a.jiandao1.alpha=0,a.bottle0.alpha=1,a.bottle1.alpha=0,TweenMax.to(a.jiandao,4,{x:"-=360",ease:Sine.easeInOut,onComplete:function(){TweenMax.to(a.bottle0.bottle2,.5,{x:"+= 150",onComplete:function(){nb.GlobalEffect.fadeOut(a.jiandao),nb.GlobalEffect.fadeOut(a.bottle0.bottle2),nb.GlobalEffect.fadeIn(a.sand),nb.GlobalEffect.fadeIn(a.txt1),a.sand.addChild(e),NBDrag.addDrag(a.sand)}})}}),TweenMax.to(a.jiandao.top,.25,{rotation:Math.PI/20,yoyo:!0,repeat:14}),TweenMax.to(a.jiandao.bottom,.25,{rotation:-Math.PI/20,yoyo:!0,repeat:14})}})):(a.jiandao1.alpha=0,TweenMax.to(a.jiandao,.5,{x:o,y:i,onComplete:function(){a.jiandao.addChild(e),a.txt0.alpha=1}}))}),a.sand.addEventListener(NBDrag.event.START_DRAG,function(){a.sand1.alpha=.4,a.sand.removeChild(e),a.txt1.alpha=0});var r=a.sand.x,d=a.sand.y;a.sand.addEventListener(NBDrag.event.STOP_DRAG,function(){a.sand.hitTest(a.sand1)?(a.sand1.alpha=0,a.sand.interactive=!1,TweenMax.to(a.sand,.5,{x:a.sand1.x+50,y:a.sand1.y-100,onComplete:function(){TweenMax.to(a.sand,1,{rotation:-Math.PI/3.6,onComplete:function(){TweenMax.to(a.bottle0.sand3.scale,1.5,{y:1}),TweenMax.to(a.sand.background.sha.scale,1.5,{y:0}),setTimeout(function(){a.water.visible=!0,a.txt2.alpha=1,a.water.addChild(t),NBDrag.addDrag(a.water)},500)}})}})):(a.sand1.alpha=0,TweenMax.to(a.sand,.5,{x:r,y:d,onComplete:function(){a.sand.addChild(e),a.txt1.alpha=1}}))}),a.water.addEventListener(NBDrag.event.START_DRAG,function(){a.sand.visible=!1,a.water1.alpha=.4,a.water.removeChild(t),a.txt2.alpha=0});var l=a.water.x,h=a.water.y;a.water.addEventListener(NBDrag.event.STOP_DRAG,function(){a.water.wateref.hitTest(a.wateref)?(a.water1.alpha=0,a.water.interactive=!1,TweenMax.to(a.water,.5,{rotation:-Math.PI/3,x:a.water1.x-20,y:a.water1.y-10,onComplete:function(){TweenMax.to(a.water,2,{rotation:-Math.PI/2,onComplete:function(){nb.GlobalEffect.fadeOut(a.water),setTimeout(function(){TweenMax.to(a.bottle0.scale,.8,{x:2,y:2}),TweenMax.to(a.bottle0,.8,{x:"+= 100",y:"-=250",onComplete:function(){instance.NBStepsShow(1),instance.NBDownTipsError.showTip("当前步骤已完成")}}),TweenMax.to(a.txt,.8,{x:"+= 175",y:"+= 50"})},500)},onStart:function(){TweenMax.to(a.bottle0.ref,2,{y:"+= 10"}),a.bottle0.setColor("#FFFF00",.1),a.bottle0.setCapacityTween("95%",2)}})}})):(a.water1.alpha=0,TweenMax.to(a.water,.5,{x:l,y:h,onComplete:function(){a.water.addChild(t),a.txt2.alpha=1}}))})},frame1:function(){for(var a=this,e=(0,n.default)(0,0),t=[],o=[],i=0;i<2;i++)t.push(Math.random());for(var r=0;r<8;r++)a.w1["s"+r].gotoAndStop(Math.random()*(a.w1["s"+r].totalFrames-1)),a.w1["s"+r].play(),a.w1["s"+r].animationSpeed=.1*Math.random()+.1;for(var d=0;d<5;d++)o.push(a["a"+d]),a.w0["s"+d].gotoAndStop(Math.random()*(a.w0["s"+d].totalFrames-1)),a.w0["s"+d].play(),a.w0["s"+d].animationSpeed=.1*Math.random()+.3;if(a.a0)for(var l=function(t){o[0].addChild(e),NBDrag.addDrag(a["a"+t]),a["w"+t].alpha=0,a["a"+t].addEventListener(NBDrag.event.START_DRAG,function(){a["a"+t].removeChild(e),a["a"+t].test.alpha=0,instance.NBDownTipsError.hideTip()}),a["a"+t].addEventListener(NBDrag.event.STOP_DRAG,function(t){var n=t,i=a["a"+t].x,r=a["a"+t].y;return function(){var t=a["a"+n];"a2"!=t.name&&"a3"!=t.name&&"a4"!=t.name||(0==a.w0.alpha||0==a.w1.alpha?(instance.NBDownTipsError.showTip("先拖入植物到生态瓶中"),TweenMax.to(t,.5,{x:i,y:r}),t.test.alpha=1):t.hitTest(a.bottle)?(o.length>1&&(o.splice(o.indexOf(t),1),o[0].addChild(e)),t.visible=!1,TweenMax.to(a["w"+n],.5,{alpha:1})):(TweenMax.to(t,.5,{x:i,y:r}),this.test.alpha=1,o[0].addChild(e))),"a0"!=t.name&&"a1"!=t.name||(t.hitTest(a.bottle)?(o.splice(o.indexOf(t),1),o[0].addChild(e),t.visible=!1,TweenMax.to(a["w"+n],.5,{alpha:1})):(TweenMax.to(t,.5,{x:i,y:r}),this.test.alpha=1,o[0].addChild(e)))}}(t))},h=0;h<5;h++)l(h);a.w3.play();var s=10*Math.random(),w=6*Math.random();a.w3.rotation=-45,this.onUpdate=function(){(function(e,t){a.w3.x=a.fref.x+a.fref.width/2-40*Math.cos(e)-10*Math.cos(t),a.w3.y=a.fref.y+a.fref.height/2+30*Math.sin(e)+10*Math.cos(t),a.w3.rotation=-30+e})(s+=.006,w+=.005),s>2*Math.PI&&(s=0)},a.w2.shake0.play(),a.w2.shake0.animationSpeed=.5,a.w2.shake1.play(),a.w2.shake1.animationSpeed=.5,function e(){var t=3*Math.random()+3;if(a.w2.currentFrame==a.w2.totalFrames-1||0==a.w2.currentFrame){a.w2.gotoAndStop(0);var n=a.w2.x-200-Math.random()*(a.w2.x-a.fishref.x-200),o=Math.random()*(a.fishref.height-2*a.w2.height)+a.fishref.y+a.w2.height/2,i=new TimelineMax;i.append(TweenMax.to(a.w2,t,{x:n-10,y:o-50})),i.append(TweenMax.to(a.w2,1,{currentFrame:0==a.w2.currentFrame?15:a.w2.totalFrames-1,onComplete:e}))}else{var r=Math.random()*(a.fishref.x+a.fishref.width-200-a.w2.x)+a.w2.x+200,d=Math.random()*(a.fishref.height-2*a.w2.height)+a.fishref.y+a.w2.height/2,l=new TimelineMax;l.append(TweenMax.to(a.w2,t,{x:r-10,y:d-75})),l.append(TweenMax.to(a.w2,1,{currentFrame:0==a.w2.currentFrame?15:a.w2.totalFrames-1,onComplete:e}))}}()},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0"),this.bindScriptToSprite(this.frame1,"frame1")},info:{experimentImport:"在一个池塘中，水生植物需要哪些生存条件？植物和动物互相提供了哪些帮助和贡献？非生物对生物起到了什么作用？我们能否模拟一个小池塘环境，制作一个生态瓶。",labName:"做一个生态瓶",title0:"制作非生物生环境",title1:"添加生物",CONCLUSION:"生态瓶中，生物之间、生物和非生物之间，都在进行着相互作用，互相依存，形成一个密不可分的整体。",newLayOut:!0},const:{},event:{}}),a.exports=nb.substance0635}});