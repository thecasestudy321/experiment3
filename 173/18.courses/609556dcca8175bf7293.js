webpackJsonp([18],{169:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,a,i){for(var n=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,o=a||!1,s=i||{addArrow:!1,type:"horizontal",scale:1},c=new PIXI.Container,l=0;l<3;++l){var d=l+1,u=PIXI.Sprite.fromFrame("TAP_1"+d);u.x=-u.width/2,u.y=-u.height/2;var h=new PIXI.Container;h.addChild(u),c.addChild(h)}var v=0;if(s.direction)switch(s.direction){case"top":v=-Math.PI/2;break;case"bottom":v=Math.PI/2;break;case"left":v=Math.PI;break;case"right":v=0;break;default:v=0}c.filters=[r];for(var f=0;f<c.children.length;f++){var p=c.children[f];p.scale.x=p.scale.y=2,f<2&&x(p,.75*f)}if(n.addChild(c),s.addArrow){var T,b;if(s.direction){T=PIXI.Sprite.fromFrame("oneArrow"),b=new PIXI.extras.MovieClip([T]);var g=s.scale?s.scale:1;b.scale.x=b.scale.y=g,b.pivot={x:0,y:b.height/2},b.rotation=v}else{T=PIXI.Sprite.fromFrame("NBarrow"),(b=new PIXI.extras.MovieClip([T])).pivot={x:b.width/2,y:b.height/2};var E=s.scale?s.scale:1;b.scale.x=b.scale.y=E,"horizontal"!==(s.type?s.type:"horizontal")&&(b.rotation=Math.PI/2)}n.addChild(b),n.arrow=b,n.addEventListener("hideArrow",function(){b.alpha=0,b.visible=!1}),n.addEventListener("showArrow",function(){b.alpha=1,b.visible=!0})}c.alpha=.4;var y=new PIXI.Graphics;function x(t,e){TweenMax.to(t,1.5,{delay:e,alpha:0,repeat:-1}),TweenMax.to(t.scale,1.5,{x:5,y:5,delay:e,repeat:-1})}return y.beginFill(16776960,0),y.drawRect(-50,-50,100,100),n.addChild(y),n.addEventListener(MouseEvent.MOUSE_OVER,function(){c.alpha=.6}),n.addEventListener(MouseEvent.MOUSE_OUT,function(){c.alpha=.4}),n.addEventListener(TouchEvent.TOUCH_BEGIN,function(){n.emit(n.event.TAP),!o&&n.parent&&n.parent.removeChild(n)}),n.x=t,n.y=e,n.setColor=function(t){var e=t>>16,a=t>>8&255,i=255&t;r._loadMatrix([e,0,0,0,0,0,a,0,0,0,0,0,i,0,0,0,0,0,255,0],!1),c.filters=[r]},n.setRotation=function(t){n.rotation=t},n.showAllDir=function(){if(s.direction)for(var t=0;t<3;t++){var e=new PIXI.Container;e.addChild(PIXI.Sprite.fromFrame("oneArrow")),n.addChild(e),e.pivot={x:0,y:b.height/2},e.rotation=Math.PI/2*(t+1)}else{var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("NBarrow")),n.addChild(a),a.pivot={x:b.width/2,y:b.height/2},a.rotation=n.rotation+Math.PI/2}},n.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&n.scale.set(.6,.6),n}},359:function(t,e,a){"use strict";var i=s(a(520)),n=s(a(527)),r=s(a(532)),o=s(a(169));function s(t){return t&&t.__esModule?t:{default:t}}nb.substance0161=extendsClass(ScienceMain,{frame0:function(){var t=this;$("body").animate({backgroundColor:"#51B0BB"});var e=t.bottle,a=t.timeline;a.visible=!1;var s=[],c=!1,l=(0,o.default)(68,70),d=!1;function u(){e.burette.removeChild(l),instance.NBDownTip.hideTip(),e.burette.isReachTarget||b([t.headShadow0],.3)}n.default.apply(t,[t.glass0,{littlePng:"end",bigPng:"start"}]),i.default.init.apply(a),instance.NBDownTip.showTip("将清水滴在绿豆芽的一侧，观察现象"),e.burette.addChild(l),e.tapPoint=l,t.glass0.visible=!1,t.bottom.visible=!1,t.glass0.alpha=0,t.bottom.alpha=0,t.test.alpha=0,r.default.init.apply(e),NBDrag.removeDrag(e),e.burette.movie.currentFrame=14,e.burette.movie.setCapacity(),e.addEventListener(r.default.event.BURETTE_POP,function(t){s.push(t.drop)}),e.burette.addEventListener(NBDrag.event.STOP_DRAG,function(){if(b([t.headShadow0],0),!e.isCorver()){var a=e.burette;a.hitTest(t.ref1)&&!TweenMax.isTweening(a)&&0==c?(e.burette.isReachTarget=!0,NBDrag.removeDrag(this),TweenMax.to(a,.3,{x:t.buretteTarget.x,y:t.buretteTarget.y,onComplete:function(){e.burette.addChild(l),instance.NBDownTip.showTip("挤压胶头滴管，将清水滴在绿豆芽一侧"),d=!0,1!=e.burette.movie.isEmpty()?c=!0:NBDrag.addDrag(e.burette)}})):e.burette.backDefaultPos()}}),e.addEventListener(r.default.event.BURETTE_TAP,function(){b([t.headShadow0],0),u(),d&&(e.burette.interactive=!1)}),e.burette.addEventListener(NBDrag.event.START_DRAG,u),t.end0.alpha=0,t.headShadow0.alpha=0;var h=!1,v=!1;this.onUpdate=function(){TweenMax.isTweening(e.burette)?a.children.forEach(function(t){t.interactive=!1}):a.children.forEach(function(t){t.interactive=!0}),!0===e.burette.movie.isEmpty()&&0==h&&1==c&&(h=!0,TweenMax.to(e,.5,{alpha:0}),TweenMax.to(e.burette,.5,{alpha:0,onComplete:function(){e.visible=!1,e.burette.visible=!1}}));for(var i=0;i<s.length;i++){var n=s[i];n.hitTest(t.a0)&&1==c&&(TweenMax.to(t.water,1,{currentFrame:t.water.totalFrames-1,onComplete:function(){v?(a.setAutoPlay(!0,1),TweenMax.to(e.burette,.5,{alpha:0})):(a.visible=!0,a.setAutoPlay(!0,1),v=!0)}}),s.splice(s.indexOf(n),1),n.destory())}},a.addEventListener(i.default.event.ON_PLAY,function(e){t.a0.currentFrame=40*e.time});var f=!1,p=!1;function T(){TweenMax.killTweensOf(e.burette),a.setAutoPlay(!1),e.burette.movie.currentFrame=14,e.burette.visible=!0,e.burette.movie.setCapacity(),TweenMax.to(e.burette,.5,{alpha:1,onComplete:function(){e.burette.clickBurette()}})}function b(t,e){TweenMax.to(t,.5,{alpha:e})}a.addEventListener(i.default.event.REACHED_NODE,function(){p||(f?T():f=!0)}),a.addEventListener(i.default.event.CLICK_NODE,function(){p=!0,TweenMax.killTweensOf(e.burette),TweenMax.to(e.burette,.5,{alpha:0})}),a.addEventListener(i.default.event.CLICK_NODE_REACHED,function(e){p=!1,"4"!=e.index?T():(t.a0.alpha=0,nb.GlobalEffect.fadeIn(t.end0))}),a.addEventListener(i.default.event.ON_COMPLETE,function(){TweenMax.to([a,t.glass,t.glass00,t.water],.5,{alpha:0}),t.glass0.visible=!0,t.bottom.visible=!0,TweenMax.to([t.bottom,t.glass0,t.test],.5,{alpha:1}),t.a0.alpha=0,nb.GlobalEffect.fadeIn(t.end0)})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"绿豆芽生长对水的需求是怎样的呢？",labName:"绿豆芽生长需要水吗",OPERATION_0:"请在培养皿的右端滴入清水",CONCLUSION:"绿豆芽的生长需要适宜的水分。",newLayOut:!0},const:{},event:{}}),t.exports=nb.substance0161},520:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var t,e,a=this;if(a.bgMask){var n=a.bgMask.getChildAt(0);a.progressBar.mask=n,n.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,s=[];a.drag.lastPos={x:a.drag.x,y:a.drag.y};for(var c=0;c<int.MAX_VALUE;c++){var l=this["a"+c];if(void 0===l){e="vertical"===r?this["a"+(c-1)].y:this["a"+(c-1)].x,o=c;break}s.push(l),0===c&&(t="vertical"===r?l.y:l.x),l.addEventListener(TouchEvent.TAP,function(){var t=this;"vertical"===r?TweenMax.to(a.drag,.5,{y:this.y}):TweenMax.to(a.drag,.5,{x:this.x,onComplete:function(){a.emit(i.event.CLICK_NODE_REACHED,{index:t.name.substr(1,1)})}}),this.totalFrames&&(s.forEach(function(t){return t.currentFrame=0}),this.currentFrame=1),a.drag.lastPos={x:this.x,y:this.y},a.emit(i.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(n){n?(NBDrag.addDrag(a.drag),a.drag.on(NBDrag.event.START_DRAG,function(){var n=(a.drag.x-t)/(e-t);a.emit(i.event.START_DRAG,{time:n})}),a.drag.on(NBDrag.event.DRAG_MOVE,function(){var n=(a.drag.x-t)/(e-t);a.emit(i.event.DRAGING,{time:n})}),a.drag.on(NBDrag.event.STOP_DRAG,function(){var n=(a.drag.x-t)/(e-t);a.emit(i.event.STOP_DRAG,{time:n}),n>=1&&a.emit(i.event.ON_COMPLETE,{time:n})})):NBDrag.removeDrag(a.drag)},a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var i=o-1;if("vertical"===r){var n=Math.round((this.y-t)/(e-t)*i);n<0&&(n=0)}else{var s=Math.round((this.x-t)/(e-t)*i);s<0&&(s=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){h()});var d=!1;a.drag.constY=a.drag.y;var u,h=function(){a.drag.y=a.drag.constY,a.drag.x>=e&&(a.drag.x=e),a.drag.x<=t&&(a.drag.x=t);var n=(a.drag.x-t)/(e-t);if(n<1){d=!1,a.emit(i.event.ON_PLAY,{time:n});for(var r=0;r<s.length;r++)a.drag.lastPos.x<=s[r].x&&a.drag.x>s[r].x&&a.emit(i.event.REACHED_NODE,{index:r})}else d||(d=!0,a.emit(i.event.ON_COMPLETE,{time:n}));(a.drag.line0&&(a.drag.line0.rotation=1800*n*Math.PI/180,a.drag.line1.rotation=360*n*Math.PI/180),a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=n);a.drag.lastPos={x:a.drag.x,y:a.drag.y}};this.getNodeCount=function(){return o},this.setNodePos=function(t){var e=this["a"+t];"vertical"===r?a.drag.y=e.y:a.drag.x=e.x},nb.MovieClip.ticker.add(function(){a._auto_&&!a.drag.isDragging&&("vertical"===r?a.drag.y+=a._speed_:a.drag.x+=a._speed_,h())}),this.setAutoPlay=function(t,e){this._auto_=t,this._speed_=e||.1},this.setAutoAlign=function(t){this._align_=t},this.setMomentsPause=function(t,e,i){clearTimeout(u),t&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(u),a.setAutoPlay(!1),u=setTimeout(function(){a.setAutoPlay(!0,i)},e)):a.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=0)}}};e.default=i},527:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var a=this,i=t,n=Object.assign({},{littlePng:"lPng",bigPng:"bPng",MAX_SCALE:1.6,MIN_SCALE:.82,START_BLUR:.5,BLUR:7.8,tipOffsetX:0,tipOffsetY:0,iconOffsetX:0,iconOffsetY:0,slideY:70},e),r=i.tipIcon,o=i.littleTip;r.y=-206+n.iconOffsetY,r.x=289+n.iconOffsetX,o.x=257+n.tipOffsetX,o.y=-100+n.tipOffsetY,r.startPos={x:r.x,y:r.y},o.startPos={x:o.x,y:o.y},o.alpha=0,NBDrag.addDrag(i);var s=TweenMax.to(r.scale,.5,{x:1.2,y:1.2,repeat:-1,yoyo:!0});i.addEventListener(NBDrag.event.START_DRAG,l),i.addEventListener(NBDrag.event.DRAG_MOVE,g);var c=!1;function l(t){i.tapPoint&&t&&i.removeChild(i.tapPoint),TweenMax.killTweensOf(o),o.alpha&&TweenMax.to(o,.5,{y:o.startPos.y,ease:Power2.easeOut,alpha:0,onComplete:function(){}}),TweenMax.to(o,.5,{onComplete:function(){c=!1}})}r.addEventListener(TouchEvent.TAP,function(){c||(c=!0,s.pause(),o.alpha||(TweenMax.killTweensOf(o),TweenMax.to(o,.5,{y:o.startPos.y-n.slideY,ease:Power2.easeOut,alpha:1,onStart:function(){o.y=o.startPos.y,c=!1}})))}),$("canvas").click(function(){c||(c=!0,l())});var d=new PIXI.Graphics;a.addChild(d),a.graphics=d,d.beginFill(0,255,1),d.drawCircle(0,0,a.bottom.width/2);for(var u=[],h=[],v=[],f=0;f<int.MAX_VALUE&&a[n.bigPng+f];f++){var p,T=a[n.bigPng+f],b=a[n.littlePng+f];h.push(T),v.push(b),T.mask=d,T.alpha=1,p=T.width/b.width,u.push(p)}function g(){d.x=i.x,d.y=i.y,a.bottom.position=d.position,v.forEach(function(t,e){var r=a[n.bigPng+e];r.x=-(u[e]-1)*(i.x-t.x)+t.x,r.y=-(u[e]-1)*(i.y-t.y)+t.y})}var E=new PIXI.filters.BlurFilter;function y(t){E.blur=5.46*t-4.4784,E.blur<=0&&(E.blur=0)}function x(t){var e=a.toLocal({x:t.data.global.x,y:t.data.global.y});if(i.glassCenterPoint&&i.removeChild(i.glassCenterPoint),i.arrow.alpha=0,i.slide=!0,instance.NBDownTip.hideTip(),e.x<m){var n=m-e.x;A=w+n/1e3,_=M+n/1e3/2,(C=P+n/1e3)>instance.const.MAX_SCALE&&(C=instance.const.MAX_SCALE),_>instance.const.MAX_SCALE-.5&&(_=instance.const.MAX_SCALE-.5),A>instance.const.MAX_SCALE&&(A=instance.const.MAX_SCALE),y(C),TweenMax.to(i.scale,.5,{x:C,y:A}),TweenMax.to(d.scale,.5,{x:C,y:A}),TweenMax.to(a.bottom.scale,.5,{x:C,y:A}),h.forEach(function(t){TweenMax.to(t.scale,.5,{x:_,y:_}),t.filters=[E]})}if(e.x>m){var r=e.x-m;A=w-r/1e3,_=M-r/1e3/2,(C=P-r/1e3)<instance.const.MIN_SCALE&&(C=instance.const.MIN_SCALE),_<instance.const.MIN_SCALE&&(_=instance.const.MIN_SCALE),A<instance.const.MIN_SCALE&&(A=instance.const.MIN_SCALE),y(C),TweenMax.to(i.scale,.5,{x:C,y:A}),TweenMax.to(d.scale,.5,{x:C,y:A}),TweenMax.to(a.bottom.scale,.5,{x:C,y:A}),h.forEach(function(t){TweenMax.to(t.scale,.5,{x:_,y:_})})}}if(y(1),d){var m,_,C=0,A=0,P=1,w=1,M=1;d.addEventListener(TouchEvent.TOUCH_BEGIN,function(){d.addEventListener(TouchEvent.TOUCH_MOVE,x)}),d.addEventListener(TouchEvent.TOUCH_END,function(){0!=C&&(P=C,w=A,M=_),a.addChild(d),d.removeListener(TouchEvent.TOUCH_MOVE,x)}),d.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,function(){0!=C&&(P=C,w=A,M=_),a.addChild(d),d.removeListener(TouchEvent.TOUCH_MOVE,x)}),d.addEventListener(TouchEvent.TOUCH_BEGIN,function(t){var e=a.toLocal({x:t.data.global.x,y:t.data.global.y});m=e.x,d.addEventListener(TouchEvent.TOUCH_MOVE,x)})}i.addEventListener("canSlide",function(){d.interactive=!0}),i.addEventListener("noSlide",function(){d.interactive=!1}),d.interactive=!1,g(),i.event={grpInteractive:"canSlide",grpNoInteractive:"noSlide"}}},532:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(a(533));var n={event:{BURETTE_POP:"burettePop",BURETTE_TAP:"buretteTap",BURETTE_IN_BOTTLE:"buretteInBottle",BACK:"backDefaultPos"},buretteInfo:{EMPTY:"请先在滴管中吸入液体"},init:function(t){n.config={},n.config=Object.assign({isDropOver:!0},t);var e=!0,a=this;this.dropColor=16777215,this.MAX_BOTTLE_CAPACITY=1e3,this.MAX_BURETTE_CAPACITY=15,this.bottle.topValue=this.bottle.water_top.y,this.bottle.bottomValue=this.bottle.water_bottom.y,this.bottle.max_capacity=this.MAX_BOTTLE_CAPACITY,this.burette.movie.max_capacity=this.MAX_BURETTE_CAPACITY,this.isCorver=function(){return this.burette.movie.hitTest(this.head)};var r={x:this.burette.x,y:this.burette.y},o=this;NBDrag.addDrag(this.burette),NBDrag.addDrag(this),i.default.init.apply(this.burette.movie),this.burette.movie.isFull=this.bottle.isFull=function(){return this.capacity==this.max_capacity},this.burette.movie.isEmpty=this.bottle.isEmpty=function(){return 0==this.capacity},Object.defineProperty(this.bottle,"capacity",{get:function(){return this._capacity||0},set:function(t){var e=-(this.topValue-this.bottomValue);this._capacity=t;var a=t/o.MAX_BOTTLE_CAPACITY;this.water_middle.height=e*a,this.water_top.y=this.bottomValue-e*a}}),this.setEnabled=function(t){e=t,!1===t&&TweenMax.killTweensOf(this.burette)},this.getEnabled=function(){return e},this.bottle.capacity=this.MAX_BOTTLE_CAPACITY;var s=this.parent;this.burette.on(NBDrag.event.START_DRAG,function(t){t.data.isPropagationStopped=!0,TweenMax.killTweensOf(this),s.addChildWithSamePos(this)}),this.burette.on(NBDrag.event.STOP_DRAG,function(){o.isCorver()&&(this.x=r.x,this.y=r.y,a.addChildAt(this,0),this.emit(n.event.BURETTE_IN_BOTTLE))}),NBGesture.addGesture(this.burette,NBGesture.gesture.TAP,function(t){t&&this.clickBurette()}),this.burette.clickBurette=function(){var t=this;if(n.config.isDropOver&&a.emit(n.event.BURETTE_TAP),!1!==e){var i=o.burette.movie.capacity;!1!==o.isCorver()||!0!==o.burette.movie.isEmpty()?TweenMax.to(this,1.5,{onUpdate:function(){if(o.isCorver())0==o.burette.movie.isFull()&&0==o.bottle.isEmpty()&&this.progress()>(o.burette.movie.capacity-i)/(o.burette.movie.max_capacity-i)&&(o.burette.movie.capacity++,o.bottle.capacity--);else if(0==o.burette.movie.isEmpty()&&1-this.progress()<o.burette.movie.capacity/i){o.burette.movie.capacity--;var e=new PIXI.Graphics;e.beginFill(a.dropColor,.3),e.drawEllipse(0,0,$s(6),$s(12)),o.burette.movie.addChild(e),e.x=o.burette.movie.width/2-5,e.y=o.burette.movie.height,e.destory=function(){this.parent&&(TweenMax.killTweensOf(this),this.parent.removeChild(this))},TweenMax.to(e,1,{y:e.y+$s(800),alpha:0,onComplete:function(t){t.destory()},onCompleteParams:[e]}),o.emit(n.event.BURETTE_POP,{target:o.burette,drop:e})}n.config.isDropOver||TweenMax.killTweensOf(t)}}):instance.NBDownTipsError.showTip(n.buretteInfo.EMPTY)}},this.burette.movie.setCapacity=this.bottle.setCapacity=function(t){this.capacity=t||this.max_capacity},this.burette.backDefaultPos=function(){a.addChildWithSamePos(a.burette),a.addChildAt(a.burette,0),TweenMax.to(a.burette,.5,{x:r.x,y:r.y,ease:Sine.easeInOut,onComplete:function(){a.emit(n.event.BACK)}})}}};e.default=n},533:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={init:function(){Object.defineProperty(this,"capacity",{get:function(){return this._capacity||0},set:function(t){t<=this.max_capacity&&t>=0&&(t<this.totalFrames&&this.gotoAndStop(t),this._capacity=t)}}),void 0==this.max_capacity&&(this.max_capacity=15),this.isFull=function(){return this.capacity==this.max_capacity},this.isEmpty=function(){return 0==this.capacity}}};e.default=i}});