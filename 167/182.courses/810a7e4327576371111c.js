webpackJsonp([182],{376:function(t,e,a){"use strict";var n=function(t){return t&&t.__esModule?t:{default:t}}(a(520));nb.substance0211=extendsClass(ScienceMain,{frame0:function(){$("body").animate({backgroundColor:"rgb(33, 33, 33)"},300);var t=this;"frame0"===t.name&&(instance.viewStack.addChild(t.btn0),instance.viewStack.addChild(t.btn1),instance.viewStack.btn0=t.btn0,instance.viewStack.btn1=t.btn1,instance.viewStack.btn0.currentFrame=1,t.btn0.addEventListener(TouchEvent.TAP,instance.event.tapBtn),t.btn1.addEventListener(TouchEvent.TAP,instance.event.tapBtn)),n.default.init.apply(t.timeline),t.timeline.a0.interactive=!1,t.timeline.a1.interactive=!1;for(var e=0;e<8;e++)t.w11["s"+e].gotoAndStop(Math.random()*(t.w11["s"+e].totalFrames-1)),t.w11["s"+e].play(),t.w11["s"+e].animationSpeed=.1*Math.random()+.1;for(var a=0;a<8;a++)t.w1["s"+a].gotoAndStop(Math.random()*(t.w11["s"+a].totalFrames-1)),t.w1["s"+a].play(),t.w1["s"+a].animationSpeed=.1*Math.random()+.1;for(var i=0;i<5;i++)t.w01["s"+i].gotoAndStop(Math.random()*(t.w01["s"+i].totalFrames-1)),t.w01["s"+i].play(),t.w01["s"+i].animationSpeed=.1*Math.random()+.3;for(var r=0;r<5;r++)t.w0["s"+r].gotoAndStop(Math.random()*(t.w01["s"+r].totalFrames-1)),t.w0["s"+r].play(),t.w0["s"+r].animationSpeed=.1*Math.random()+.3;t.w31.play(),t.w3.play();var o=4*Math.random(),s=2*Math.random(),d=5*Math.random(),h=3*Math.random();function m(t,e,a,n){t.x=e.x+e.width/2+80*Math.cos(a)+80*Math.cos(n),t.y=e.y+e.height/2+50*Math.sin(a)+50*Math.cos(n),t.rotation=-15+a}t.w31.rotation=-45,t.w3.rotation=-45,this.onUpdate=function(){o+=.009,s+=.0045,d+=.0095,h+=.004,m(t.w31,t.fref1,o,s),m(t.w3,t.fref,d,h),o>2*Math.PI&&(o=0),6==t.w21.currentFrame&&t.addChildAt(t.w21,8),19==t.w21.currentFrame&&t.addChildAt(t.w21,10)},t.timeline.alpha=0,NBDrag.addDrag(t.a5),t.w5.visible=!1,t.w6.visible=!1,t.a5.addEventListener(NBDrag.event.START_DRAG,function(){t.addChild(t.a5)}),t.a5.addEventListener(NBDrag.event.STOP_DRAG,function(){t.a5.hitTest(t.bottle)&&(t.a5.visible=!1,t.w5.visible=!0,t.w2.num=2,t.w5.num=1,t.addChildAt(t.a5,0),instance.event.showtimeLine(t.timeline)),t.a5.hitTest(t.bottle1)&&(t.a5.visible=!1,t.w6.visible=!0,t.w6.num=2,t.w21.num=1,t.addChildAt(t.a5,0),instance.event.showtimeLine(t.timeline))}),t.w2.num=5,t.w5.num=5,t.w21.num=5,t.w6.num=5,instance.run(t.w2,0,t.w2.num,t.fishref,t.w5)(),instance.run(t.w5,0,t.w5.num,t.fishref,t.w2)(),instance.run(t.w21,0,t.w21.num,t.fishref1,t.w6)(),instance.run(t.w6,0,t.w6.num,t.fishref1,t.w21)()},frame1:function(){var t=this;instance.frame0.apply(this),t.btn1.visible=t.btn0.visible=!1;var e=t.onUpdate;t.a5.visible=!1;for(var a=0;a<4;a++)t["new"+a].alpha=0,t["new"+a].gotoAndStop(Math.random()*(t["new"+a].totalFrames-1)),t["new"+a].play(),t["new"+a].animationSpeed=.1*Math.random()+.3;NBDrag.addDrag(t.copy),t.copy.addEventListener(NBDrag.event.STOP_DRAG,function(){var e=this;this.hitTest(t.bottle)&&(t.w5.num=10,TweenMax.to([t.new0,t.new1],.5,{alpha:1,onStart:function(){NBDrag.removeDrag(e),TweenMax.to(e,.3,{alpha:0})},onComplete:function(){instance.event.showtimeLine(t.timeline)}}));this.hitTest(t.bottle1)&&(t.w21.num=10,TweenMax.to([t.new2,t.new3],.5,{alpha:1,onStart:function(){NBDrag.removeDrag(e),TweenMax.to(e,.3,{alpha:0})},onComplete:function(){instance.event.showtimeLine(t.timeline)}}))}),this.onUpdate=function(){e.apply(this),r<4&&(t.w2.num=r+1,t.w5.num=r+3)};for(var n=[],i=[],r=5,o=5;o<10;o++){var s=t["s"+o];s.play(),s.animationSpeed=.1*Math.random()+.1}for(var d=0;d<5;d++){var h=t["s"+d];n.push(h.y),i.push(h.x),h.play(),h.animationSpeed=.1*Math.random()+.1,h.addEventListener(NBDrag.event.START_DRAG,function(){this.stop(),r--}),h.addEventListener(NBDrag.event.STOP_DRAG,function(e){var a=d;return function(){this.hitTest(t.bottle1)?(NBDrag.removeDrag(this),TweenMax.to(t["s"+a],.5,{x:t.bottle1.x+Math.random()*(t.bottle1.width-$s(300))+$s(50),y:n[a],onComplete:function(){t["s"+a].play()}})):(r++,TweenMax.to(t["s"+a],.5,{x:i[a],y:n[a],onComplete:function(){t["s"+a].play()}}))}}())}},run:function(t,e,a,n,i){return function(){t.shake0.play(),a=t.num,t.shake0.animationSpeed=.5,t.shake1.play(),t.shake1.animationSpeed=.5;var r=3*Math.random()+5,o=void 0,s=void 0;t.currentFrame==t.totalFrames-1||0==t.currentFrame?(t.gotoAndStop(0),o=t.x-200-Math.random()*(t.x-n.x-200),s=Math.random()*(n.height-2*t.height)+n.y+t.height):(o=Math.random()*(n.x+n.width-200-t.x)+t.x+200,s=Math.random()*(n.height-2*t.height)+n.y+t.height);var d=new TimelineMax;d.append(TweenMax.to(t,r,{x:o,y:s})),d.append(TweenMax.to(t,1,{currentFrame:0==t.currentFrame?15:t.totalFrames-1,onComplete:function(){if(i)if(++e%a==0)if(console.log("out"),15==t.currentFrame){var r=t,o=new TimelineMax;o.append(TweenMax.to(r,1,{rotation:-1,x:r.x+$s(10)+20*Math.random(),y:n.y})),o.append(TweenMax.to(r,2*Math.random()+2,{x:r.x+$s(10)+20*Math.random(),y:n.y})),o.append(TweenMax.to(r,.5,{rotation:0,onComplete:instance.run(t,e,a,n,i)}))}else{t.gotoAndStop(0);var s=t,d=new TimelineMax;TweenMax.to(s,.5,{rotation:1}),d.append(TweenMax.to(s,.5,{x:s.x-$s(10)-20*Math.random(),y:n.y})),d.append(TweenMax.to(s,2*Math.random()+2,{x:s.x-$s(10)-20*Math.random(),y:n.y})),d.append(TweenMax.to(s,.5,{rotation:0,onComplete:instance.run(t,e,a,n,i)}))}else instance.run(t,e,a,n,i)();else instance.run(t,e,a,n,i)()}}))}},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0"),this.bindScriptToSprite(this.frame1,"frame1")},info:{experimentImport:"如果改变生态瓶里的生物的量，里面的生物会有什么影响呢？",labName:"改变生态瓶2",CONCLUSION:"生态瓶中生物数量的增加会对其中生物的生存产生影响。"},const:{},event:{tapBtn:function(){if(1!==this.currentFrame){this.currentFrame=1,instance.avtiveBtn=this;var t=+this.name.substr(-1);instance.gotoStep("frame"+t),t=0===t?1:0,this.parent["btn"+t].gotoAndStop(0)}},showtimeLine:function(t){TweenMax.to(t,.5,{alpha:1,onComplete:function(){t.setAutoPlay(!0,1),t.on(n.default.event.ON_COMPLETE,function(){TweenMax.to(t,.5,{alpha:0,onComplete:function(){t.visible=!1}})})}})}}}),t.exports=nb.substance0211},520:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var t,e,a=this;if(a.bgMask){var i=a.bgMask.getChildAt(0);a.progressBar.mask=i,i.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,s=[];a.drag.lastPos={x:a.drag.x,y:a.drag.y};for(var d=0;d<int.MAX_VALUE;d++){var h=this["a"+d];if(void 0===h){e="vertical"===r?this["a"+(d-1)].y:this["a"+(d-1)].x,o=d;break}s.push(h),0===d&&(t="vertical"===r?h.y:h.x),h.addEventListener(TouchEvent.TAP,function(){var t=this;"vertical"===r?TweenMax.to(a.drag,.5,{y:this.y}):TweenMax.to(a.drag,.5,{x:this.x,onComplete:function(){a.emit(n.event.CLICK_NODE_REACHED,{index:t.name.substr(1,1)})}}),this.totalFrames&&(s.forEach(function(t){return t.currentFrame=0}),this.currentFrame=1),a.drag.lastPos={x:this.x,y:this.y},a.emit(n.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(i){i?(NBDrag.addDrag(a.drag),a.drag.on(NBDrag.event.START_DRAG,function(){var i=(a.drag.x-t)/(e-t);a.emit(n.event.START_DRAG,{time:i})}),a.drag.on(NBDrag.event.DRAG_MOVE,function(){var i=(a.drag.x-t)/(e-t);a.emit(n.event.DRAGING,{time:i})}),a.drag.on(NBDrag.event.STOP_DRAG,function(){var i=(a.drag.x-t)/(e-t);a.emit(n.event.STOP_DRAG,{time:i}),i>=1&&a.emit(n.event.ON_COMPLETE,{time:i})})):NBDrag.removeDrag(a.drag)},a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var n=o-1;if("vertical"===r){var i=Math.round((this.y-t)/(e-t)*n);i<0&&(i=0)}else{var s=Math.round((this.x-t)/(e-t)*n);s<0&&(s=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){u()});var m=!1;a.drag.constY=a.drag.y;var l,u=function(){a.drag.y=a.drag.constY,a.drag.x>=e&&(a.drag.x=e),a.drag.x<=t&&(a.drag.x=t);var i=(a.drag.x-t)/(e-t);if(i<1){m=!1,a.emit(n.event.ON_PLAY,{time:i});for(var r=0;r<s.length;r++)a.drag.lastPos.x<=s[r].x&&a.drag.x>s[r].x&&a.emit(n.event.REACHED_NODE,{index:r})}else m||(m=!0,a.emit(n.event.ON_COMPLETE,{time:i}));(a.drag.line0&&(a.drag.line0.rotation=1800*i*Math.PI/180,a.drag.line1.rotation=360*i*Math.PI/180),a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=i);a.drag.lastPos={x:a.drag.x,y:a.drag.y}};this.getNodeCount=function(){return o},this.setNodePos=function(t){var e=this["a"+t];"vertical"===r?a.drag.y=e.y:a.drag.x=e.x},nb.MovieClip.ticker.add(function(){a._auto_&&!a.drag.isDragging&&("vertical"===r?a.drag.y+=a._speed_:a.drag.x+=a._speed_,u())}),this.setAutoPlay=function(t,e){this._auto_=t,this._speed_=e||.1},this.setAutoAlign=function(t){this._align_=t},this.setMomentsPause=function(t,e,n){clearTimeout(l),t&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(l),a.setAutoPlay(!1),l=setTimeout(function(){a.setAutoPlay(!0,n)},e)):a.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=0)}}};e.default=n}});