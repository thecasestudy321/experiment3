webpackJsonp([53],{169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){for(var i=new PIXI.Container,o=new PIXI.filters.ColorMatrixFilter,r=n||!1,d=a||{addArrow:!1,type:"horizontal",scale:1},s=new PIXI.Container,l=0;l<3;++l){var c=l+1,h=PIXI.Sprite.fromFrame("TAP_1"+c);h.x=-h.width/2,h.y=-h.height/2;var u=new PIXI.Container;u.addChild(h),s.addChild(u)}var f=0;if(d.direction)switch(d.direction){case"top":f=-Math.PI/2;break;case"bottom":f=Math.PI/2;break;case"left":f=Math.PI;break;case"right":f=0;break;default:f=0}s.filters=[o];for(var p=0;p<s.children.length;p++){var v=s.children[p];v.scale.x=v.scale.y=2,p<2&&g(v,.75*p)}if(i.addChild(s),d.addArrow){var C,I;if(d.direction){C=PIXI.Sprite.fromFrame("oneArrow"),I=new PIXI.extras.MovieClip([C]);var w=d.scale?d.scale:1;I.scale.x=I.scale.y=w,I.pivot={x:0,y:I.height/2},I.rotation=f}else{C=PIXI.Sprite.fromFrame("NBarrow"),(I=new PIXI.extras.MovieClip([C])).pivot={x:I.width/2,y:I.height/2};var m=d.scale?d.scale:1;I.scale.x=I.scale.y=m,"horizontal"!==(d.type?d.type:"horizontal")&&(I.rotation=Math.PI/2)}i.addChild(I),i.arrow=I,i.addEventListener("hideArrow",function(){I.alpha=0,I.visible=!1}),i.addEventListener("showArrow",function(){I.alpha=1,I.visible=!0})}s.alpha=.4;var M=new PIXI.Graphics;function g(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return M.beginFill(16776960,0),M.drawRect(-50,-50,100,100),i.addChild(M),i.addEventListener(MouseEvent.MOUSE_OVER,function(){s.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){s.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!r&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=t,i.setColor=function(e){var t=e>>16,n=e>>8&255,a=255&e;o._loadMatrix([t,0,0,0,0,0,n,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),s.filters=[o]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(d.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(t),t.pivot={x:0,y:I.height/2},t.rotation=Math.PI/2*(e+1)}else{var n=new PIXI.Container;n.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(n),n.pivot={x:I.width/2,y:I.height/2},n.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},288:function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e:{default:e}}(n(169));nb.substance0022=extendsClass(ScienceMain,{frame0:function(){var e=this,t=e.hammer,n=t.dragArea,i=t.head,o=!1,r=Math.PI,d=(0,a.default)(0,-323,!1,{addArrow:!0,direction:"right"});function s(){instance.NBDownTip.hideTip(),m(t.targetClone,.3)}function l(){var n=e.toLocal(this.toGlobal(new PIXI.Point));t.x=n.x+this.width/2,t.y=n.y+this.height/2,m(t.targetClone,.3)}!function(){$("body").animate({backgroundColor:"#2D2C2B"},300),instance.NBDownTip.showTip("移动小锤到音叉旁"),n.initX=n.x,n.initY=n.y,t.initX=t.x,t.initY=t.y,NBDrag.addDrag(n),n.addEventListener(NBDrag.event.START_DRAG,s),n.addEventListener(NBDrag.event.DRAG_MOVE,l),n.addEventListener(NBDrag.event.STOP_DRAG,h),i.addEventListener(TouchEvent.TOUCH_BEGIN,u),i.addEventListener(TouchEvent.TOUCH_END,w),i.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,w);var a=t.name;t.targetClone=[],t.rotationClone=[];for(var o=0;o<5;o++){var r=t.clone();if(r.alpha=0,o<2){var d=e["hammerTarget"+o];r.position.set(d.x,d.y),r.id=o,t.targetClone.push(r)}else r.rotation=Math.PI/6*(o-1),t.rotationClone.push(r),r.position=t.position;e.hammer=t,t.name=a}}();var c=-1;function h(){n.x=n.initX,n.y=n.initY,m(t.targetClone,0);var e=function(){for(var e=null,n=t.targetClone.length-1;n>=0;n--)if(t.hitTest(t.targetClone[n])){e=t.targetClone[n];break}return e}();e?(c=e.id,t.position.set(e.x,e.y),o=!0,t.tapPoint||(t.addChild(d),t.tapPoint=d)):(o=!1,TweenMax.to(t,.5,{x:t.initX,y:t.initY}))}function u(){m(t.rotationClone,.3),i.addEventListener(TouchEvent.TOUCH_MOVE,f)}function f(n){m(t.rotationClone,.3);var a=e.toLocal(n.data.global),i=M(t.position,a);t.rotation=i;var o=g(i);o<3&&(t.rotationClone[o].alpha=.6)}var p=[r/21,r/16,r/12],v=[.2,.5,1],C=["small","big"],I=[2,3,4];function w(n){m(t.rotationClone,0),i.removeListener(TouchEvent.TOUCH_MOVE,f);var a=e.toLocal(n.data.global),d=g(M(t.position,a));if(d<3){t.rotation=t.rotationClone[d].rotation;var s=new TimelineMax;s.add(TweenMax.to(t,.3,{rotation:-r/20,ease:Cubic.easeIn,onComplete:function(){if(o){var t=e["yincha"+c];!function(e,t,n){e.sound&&e.sound.stop();e.sound=SoundManager.play(t,null,null,null,null,n)}(t,C[c],v[d]),TweenMax.isTweening(t)&&TweenMax.killTweensOf(t),t.play();var n=TweenMax.to(t,I[d],{onUpdate:function(){n&&(t.animationSpeed=Math.sqrt(1-n.progress()))},onComplete:function(){t.gotoAndStop(0),t.sound.stop()}})}}})),s.add(TweenMax.to(t,.2,{rotation:p[d],ease:Cubic.easeOut})),s.add(TweenMax.to(t,.2,{rotation:0,ease:Cubic.easeIn}))}else t.rotation=0}function m(e,t){for(var n=0;n<e.length;n++)e[n].alpha=t}function M(e,t){var n=Math.atan2(t.x-e.x,e.y-t.y);return n<0&&(n=0),n>Math.PI/2&&(n=Math.PI/2),n}function g(e){return e<=r/12?3:e>r/12&&e<=r/4?0:e>r/4&&e<=5*r/12?1:2}},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),SoundManager.register({src:n(556),id:instance.const.SMALL_SOUND}),SoundManager.register({src:n(557),id:instance.const.BIG_SOUND}),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"音叉是一种发声仪器，可以用来调试乐器、测试音高。",labName:"听音叉发出的声音",title0:"用小锤敲击音叉听声音",CONCLUSION:"重一些敲击音叉，声音会强一些，轻一些敲击音叉，声音会弱一些。敲击较小的音叉，声音更高，敲击较大的音叉，声音更低。"},const:{SMALL_SOUND:"small",BIG_SOUND:"big"},event:{}}),e.exports=nb.substance0022},556:function(e,t,n){e.exports=n.p+"bb377cb9f82579ace7afcaf7672d61db.mp3"},557:function(e,t,n){e.exports=n.p+"bb3999a31d07fc699b214fc0add8dd1e.mp3"}});