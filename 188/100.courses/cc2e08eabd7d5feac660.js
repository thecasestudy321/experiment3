webpackJsonp([100],{169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i){for(var a=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,o=n||!1,d=i||{addArrow:!1,type:"horizontal",scale:1},s=new PIXI.Container,c=0;c<3;++c){var l=c+1,h=PIXI.Sprite.fromFrame("TAP_1"+l);h.x=-h.width/2,h.y=-h.height/2;var f=new PIXI.Container;f.addChild(h),s.addChild(f)}var u=0;if(d.direction)switch(d.direction){case"top":u=-Math.PI/2;break;case"bottom":u=Math.PI/2;break;case"left":u=Math.PI;break;case"right":u=0;break;default:u=0}s.filters=[r];for(var v=0;v<s.children.length;v++){var p=s.children[v];p.scale.x=p.scale.y=2,v<2&&P(p,.75*v)}if(a.addChild(s),d.addArrow){var E,I;if(d.direction){E=PIXI.Sprite.fromFrame("oneArrow"),I=new PIXI.extras.MovieClip([E]);var w=d.scale?d.scale:1;I.scale.x=I.scale.y=w,I.pivot={x:0,y:I.height/2},I.rotation=u}else{E=PIXI.Sprite.fromFrame("NBarrow"),(I=new PIXI.extras.MovieClip([E])).pivot={x:I.width/2,y:I.height/2};var T=d.scale?d.scale:1;I.scale.x=I.scale.y=T,"horizontal"!==(d.type?d.type:"horizontal")&&(I.rotation=Math.PI/2)}a.addChild(I),a.arrow=I,a.addEventListener("hideArrow",function(){I.alpha=0,I.visible=!1}),a.addEventListener("showArrow",function(){I.alpha=1,I.visible=!0})}s.alpha=.4;var x=new PIXI.Graphics;function P(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return x.beginFill(16776960,0),x.drawRect(-50,-50,100,100),a.addChild(x),a.addEventListener(MouseEvent.MOUSE_OVER,function(){s.alpha=.6}),a.addEventListener(MouseEvent.MOUSE_OUT,function(){s.alpha=.4}),a.addEventListener(TouchEvent.TOUCH_BEGIN,function(){a.emit(a.event.TAP),!o&&a.parent&&a.parent.removeChild(a)}),a.x=e,a.y=t,a.setColor=function(e){var t=e>>16,n=e>>8&255,i=255&e;r._loadMatrix([t,0,0,0,0,0,n,0,0,0,0,0,i,0,0,0,0,0,255,0],!1),s.filters=[r]},a.setRotation=function(e){a.rotation=e},a.showAllDir=function(){if(d.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),a.addChild(t),t.pivot={x:0,y:I.height/2},t.rotation=Math.PI/2*(e+1)}else{var n=new PIXI.Container;n.addChild(PIXI.Sprite.fromFrame("NBarrow")),a.addChild(n),n.pivot={x:I.width/2,y:I.height/2},n.rotation=a.rotation+Math.PI/2}},a.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&a.scale.set(.6,.6),a}},290:function(e,t,n){"use strict";var i=r(n(562)),a=r(n(169));function r(e){return e&&e.__esModule?e:{default:e}}nb.substance0024=extendsClass(ScienceMain,{frame0:function(e){var t=this,n=(0,a.default)(213,-15,!0,{addArrow:!0,type:"vertical"});t.ref.addChild(n),t.ref.Point=n,e=e||{};var r=new Audio(i.default);r.load();var o=[],d=[];t.pointsRef=d;var s=PIXI.Texture.fromFrame(e.rulerTexture||"ruler.png");instance.NBDownTip.showTip("拨动直尺观察现象");for(var c=30,l=0,h=.3,f=12,u=s.width/c,v=t.hand.x+t.hand.width-$s(50),p=t.hand.x-$s(200),E=0,I=0;I<c;I++)o.push(new PIXI.Point(I*u,0)),d.push({x:I*u,y:0});var w=new PIXI.mesh.Rope(s,o);this.addChildAt(w,1),w.x=this.hand.x,w.y=this.hand.y;var T=t.ref;function x(e){if("upDown"===w.direction){r=-(w.downPoint.y-e.data.global.y),l+=r/180,E=Math.PI/2,w.downPoint.y=e.data.global.y;var t=f/c,n=instance.const.VERTICAL_MIN_ANGLE+instance.const.MAX_ANGLE_PARAM*(1-t);l>n?l=n:l<-n&&(l=-n)}else if("leftRight"===w.direction)instance.const.ALLOW_LEFT_RIGHT&&(w.x-=w.downPoint.x-e.data.global.x,w.x>v?w.x=v:w.x<p&&(w.x=p),w.downPoint.x=e.data.global.x);else{var i=e.data.global.x,a=e.data.global.y,r=instance.const.SENSITIVITY;Math.abs(a-w.downPoint.y)>r?w.direction="upDown":Math.abs(i-w.downPoint.x)>r&&(w.direction="leftRight",w.downPoint.x=e.data.global.x)}}function P(){"upDown"===w.direction?(!function(){r.pause(),r.currentTime=0;var e=f/c;if(h=.5+.5*e,r.playbackRate=.5+1*e,instance.const.ALLOW_CHANGE_VOLUME){var t=instance.const.VERTICAL_MIN_ANGLE+instance.const.MAX_ANGLE_PARAM*(1-e);l=Math.abs(l),r.volume=l/t}else l=.1+.3*(1-e);r.play()}(),t.ref.emit("startPlay")):"leftRight"===w.direction?(r.pause(),r.currentTime=0,l=.01):0!==r.currentTime&&r.play(),w.drag=!1,w.direction="",T.removeListener(TouchEvent.TOUCH_MOVE,x),T.removeListener(TouchEvent.TOUCH_END,P),T.removeListener(TouchEvent.TOUCH_END_OUDSIDE,P)}function m(){t.ref.isDrag||(t.ref.addChild(n),t.showOne=!0)}T.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){r.pause(),w.drag=!0,T.addEventListener(TouchEvent.TOUCH_MOVE,x),T.addEventListener(TouchEvent.TOUCH_END,P),T.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,P),w.downPoint={x:e.data.global.x,y:e.data.global.y}}),this.onUpdate=function(){if(!1===w.drag){if(0===l)return void(0!==r.currentTime&&(r.pause(),r.currentTime=0,t.onStepComplete()));(l-=.0025)<0&&(l=0,t.isEmit||(t.ref.emit("playStop"),t.isEmit=!0)),E+=h}for(var e=l*Math.sin(E),n={x:d[f].x,y:0},i=f;i<c;i++)n=NBMath.rotaPoint({x:n.x+u,y:n.y},n,e*(i-f)/(c-f)),o[i].x=n.x,o[i].y=n.y},t.ref.addEventListener(TouchEvent.TOUCH_BEGIN,function(){t.ref.removeChild(n),instance.NBDownTip.hideTip()}),t.ref.addEventListener(TouchEvent.TOUCH_END,m),t.ref.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,m),t.ref.addEventListener("startPlay",function(){t.ref.isDrag=!0,t.ref.removeChild(n)}),t.ref.addEventListener("playStop",function(){instance.NBDownTip.showTip("尝试不同力度弯曲钢尺观察现象")}),this.setMaxAngle=function(e){l=e},this.getMaxAngle=function(){return l},this.getRopeCount=function(){return c},this.getPointsRef=function(){return d},this.getStartSeg=function(){return f},this.getRopeSeg=function(){return u},this.getPoints=function(){return o}},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"观察钢尺发出的声音强弱不同时，钢尺的运动状态又什么不同？",labName:"比较声音强弱的变化",title0:"拨动尺子一端使它发声",CONCLUSION:"音量由物体振动的幅度决定的，振动幅度越大，声音就越强；振动幅度越小，声音就越弱。"},event:{},const:{ALLOW_LEFT_RIGHT:!1,VERTICAL_MIN_ANGLE:.2,ALLOW_CHANGE_VOLUME:!0,MAX_ANGLE_PARAM:.4,SENSITIVITY:0}}),e.exports=nb.substance0024},562:function(e,t,n){e.exports=n.p+"77e2a8878f1051e97a70311417ad9d3f.mp3"}});