webpackJsonp([49],{505:function(t,e,i){"use strict";var a=o(i(520)),n=o(i(521)),r=o(i(532));function o(t){return t&&t.__esModule?t:{default:t}}nb.substance0690=extendsClass(ScienceMain,{frame0:function(){var t=this,e=t.timeline,i=t.step0,o=[],s=["将清水滴入其中一个培养皿观察现象","将一个种子放入冰盒中观察现象","用黑色罩子罩住一个培养皿观察现象","将一个培养皿放入真空泵中观察现象"];a.default.init.apply(e),n.default.apply(t),instance.step.apply(t.step1),instance.step.apply(t.step2),instance.step.apply(t.step3),t.step1.offsetY=-70,t.step2.offsetY=0,t.step3.offsetY=-130,e.addEventListener(a.default.event.CLICK_NODE,function(e){instance.NBDownTip.hideTip(),t["step"+e.index].completed||instance.NBDownTip.showTip(s[e.index])});var u=[],d=i.tool,l=d.burette;r.default.init.apply(t.step0.tool),NBDrag.removeDrag(t.step0.tool),d.burette.movie.currentFrame=14,d.burette.movie.setCapacity();for(var c=0;c<2;c++){var h=i["seed"+c];h.id=c,u.push(h),h.pos=i["pos"+c],i["headShadow"+c].alpha=0}d.addEventListener(r.default.event.BURETTE_POP,function(t){o.push(t.drop)});var p=null;d.burette.addEventListener(NBDrag.event.STOP_DRAG,function(){v([i.headShadow0,i.headShadow1],0),d.isCorver()||(l.hitTest(u[0])?p=u[0]:l.hitTest(u[1])&&(p=u[1]),p?(NBDrag.removeDrag(this),TweenMax.to(l,.3,{x:p.pos.x,y:p.pos.y,onComplete:function(){f=!0}})):l.backDefaultPos())}),d.burette.addEventListener(NBDrag.event.START_DRAG,function(){v([i.headShadow0,i.headShadow1],.5)});var f=!1;function v(t,e){TweenMax.to(t,.5,{alpha:e})}this.onUpdate=function(){for(var t=0;t<o.length;t++){var e=o[t];e.hitTest(u[p.id].dropArea)&&(o.splice(o.indexOf(e),1),e.destory())}f&&l.movie.isEmpty()&&(f=!1,TweenMax.to([d,l],.3,{alpha:0,onComplete:function(){TweenMax.to(i.timeline,.5,{alpha:1,onComplete:function(){i.timeline.setAutoPlay(!0,1);for(var t=0;t<3;t++){var e=p["bean"+t];e.loop=!1,e.animationSpeed=.07,e.play(),i.completed=!0}}})}}))},a.default.init.apply(i.timeline),i.timeline.interactiveChildren=!1,i.timeline.alpha=0,i.timeline.addEventListener(a.default.event.ON_COMPLETE,function(){GlobalEffect.fadeOut(i.timeline)})},step:function(){var t=this,e=t.tool,i=t.toolName,n=t.timeline,r=[];function o(){instance.NBDownTip.hideTip(),t.addChild(e),i.alpha=0}function s(){var e=this.myHitTest(r);if(e){NBDrag.removeDrag(this),t.completed=!0;var a=t.name;"step1"===a||"step3"===a&&t.addChild(e),TweenMax.to(this,.5,{x:e.pos.x,y:e.pos.y,alpha:1,onComplete:function(){TweenMax.to(n,.5,{alpha:1,onComplete:function(){if("step1"===a){u(r[1-e.id]);for(var t=0;t<3;t++){var i=r[e.id]["bean"+t];i.loop=!1,TweenMax.to(i,.5,{currentFrame:6,delay:.3*Math.random()})}}else"step2"===a?(u(r[0]),u(r[1])):u(r[1-e.id]);n.setAutoPlay(!0,1)}})}}),TweenMax.to(e,.5,{y:"+="+t.offsetY,ease:Sine.easeInOut})}else TweenMax.to(this,.5,{x:this.defaultX,y:this.defaultY,onComplete:function(){i.alpha=1}})}function u(t){for(var e=0;e<3;e++){var i=t["bean"+e];i.loop=!1,i.animationSpeed=.07,i.play()}}function d(t){for(var e=-1,i=null,a=0;a<t.length;a++){var n=this.hitTest(t[a]);n&&n>e&&(e=n,i=t[a])}return i}!function(){e.defaultX=e.x,e.defaultY=e.y,e.myHitTest=d,NBDrag.addDrag(e),e.addEventListener(NBDrag.event.START_DRAG,o),e.addEventListener(NBDrag.event.STOP_DRAG,s),a.default.init.apply(n),n.interactiveChildren=!1,n.alpha=0;for(var i=0;i<2;i++){var u=t["seed"+i];u.id=i,r.push(u),u.pos=t["pos"+i]}n.addEventListener(a.default.event.ON_COMPLETE,function(){GlobalEffect.fadeOut(n)})}()},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"阳光、土壤、水、空气和适宜的温度这些条件是种子萌发必须的吗？检测一下实验结果与你的猜测是否一致。",labName:"种子萌发实验结果",CONCLUSION:"无",isOffset:!0},const:{},event:{}}),t.exports=nb.substance0690},520:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var t,e,i=this;if(i.bgMask){var n=i.bgMask.getChildAt(0);i.progressBar.mask=n,n.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,s=[];i.drag.lastPos={x:i.drag.x,y:i.drag.y};for(var u=0;u<int.MAX_VALUE;u++){var d=this["a"+u];if(void 0===d){e="vertical"===r?this["a"+(u-1)].y:this["a"+(u-1)].x,o=u;break}s.push(d),0===u&&(t="vertical"===r?d.y:d.x),d.addEventListener(TouchEvent.TAP,function(){var t=this;"vertical"===r?TweenMax.to(i.drag,.5,{y:this.y}):TweenMax.to(i.drag,.5,{x:this.x,onComplete:function(){i.emit(a.event.CLICK_NODE_REACHED,{index:t.name.substr(1,1)})}}),this.totalFrames&&(s.forEach(function(t){return t.currentFrame=0}),this.currentFrame=1),i.drag.lastPos={x:this.x,y:this.y},i.emit(a.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(n){n?(NBDrag.addDrag(i.drag),i.drag.on(NBDrag.event.START_DRAG,function(){var n=(i.drag.x-t)/(e-t);i.emit(a.event.START_DRAG,{time:n})}),i.drag.on(NBDrag.event.DRAG_MOVE,function(){var n=(i.drag.x-t)/(e-t);i.emit(a.event.DRAGING,{time:n})}),i.drag.on(NBDrag.event.STOP_DRAG,function(){var n=(i.drag.x-t)/(e-t);i.emit(a.event.STOP_DRAG,{time:n}),n>=1&&i.emit(a.event.ON_COMPLETE,{time:n})})):NBDrag.removeDrag(i.drag)},i.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==i._align_){var a=o-1;if("vertical"===r){var n=Math.round((this.y-t)/(e-t)*a);n<0&&(n=0)}else{var s=Math.round((this.x-t)/(e-t)*a);s<0&&(s=0)}}}),i.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){h()});var l=!1;i.drag.constY=i.drag.y;var c,h=function(){i.drag.y=i.drag.constY,i.drag.x>=e&&(i.drag.x=e),i.drag.x<=t&&(i.drag.x=t);var n=(i.drag.x-t)/(e-t);if(n<1){l=!1,i.emit(a.event.ON_PLAY,{time:n});for(var r=0;r<s.length;r++)i.drag.lastPos.x<=s[r].x&&i.drag.x>s[r].x&&i.emit(a.event.REACHED_NODE,{index:r})}else l||(l=!0,i.emit(a.event.ON_COMPLETE,{time:n}));(i.drag.line0&&(i.drag.line0.rotation=1800*n*Math.PI/180,i.drag.line1.rotation=360*n*Math.PI/180),i.bgMask)&&(i.bgMask.getChildAt(0).scale.x=n);i.drag.lastPos={x:i.drag.x,y:i.drag.y}};this.getNodeCount=function(){return o},this.setNodePos=function(t){var e=this["a"+t];"vertical"===r?i.drag.y=e.y:i.drag.x=e.x},nb.MovieClip.ticker.add(function(){i._auto_&&!i.drag.isDragging&&("vertical"===r?i.drag.y+=i._speed_:i.drag.x+=i._speed_,h())}),this.setAutoPlay=function(t,e){this._auto_=t,this._speed_=e||.1},this.setAutoAlign=function(t){this._align_=t},this.setMomentsPause=function(t,e,a){clearTimeout(c),t&&!i.NOTafterStopPlay?(i.setAutoPlay(!1),clearTimeout(c),i.setAutoPlay(!1),c=setTimeout(function(){i.setAutoPlay(!0,a)},e)):i.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,i.bgMask)&&(i.bgMask.getChildAt(0).scale.x=0)}}};e.default=a},521:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t=t||{};var e=this,i=[];a.default.init.apply(this.timeline);for(var n=0;n<this.timeline.getNodeCount();n++){var r=this["step"+n];i.push(r),r.alpha=0,r.visible=!1}var o=this.step0;o.visible=!0,o.alpha=1;var s=0;this.timeline.on(a.default.event.CLICK_NODE,function(a){if(void 0!==a.index&&a.index!=s){var n=t.offset||1200;n=a.index>s?$s(n):-$s(n);var r=void 0!==o.currentX?o.currentX:o.currentX=o.x;TweenMax.to(o,t.oldTm||.6,{x:r+n,alpha:0,onComplete:function(e){e.visible=!1,t.isFix||(e.y=0)},onCompleteParams:[o],ease:Expo.easeOut}),s=a.index,(o=i[s]).visible=!0,r=void 0!==o.currentX?o.currentX:o.currentX=o.x,o.x=r-n,TweenMax.to(o,t.newTm||1,{x:r,alpha:1,ease:Expo.easeOut,onComplete:function(){e.emit(e.boxSwitch_event.CHANGE_COM,{target:o,index:a.index})}})}}),this.addEventListener("render",function(){o.onUpdate&&o.onUpdate()}),e.boxSwitch_event={CHANGE_COM:"changeCom"}};var a=function(t){return t&&t.__esModule?t:{default:t}}(i(520))},532:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(i(533));var n={event:{BURETTE_POP:"burettePop",BURETTE_TAP:"buretteTap",BURETTE_IN_BOTTLE:"buretteInBottle",BACK:"backDefaultPos"},buretteInfo:{EMPTY:"请先在滴管中吸入液体"},init:function(t){n.config={},n.config=Object.assign({isDropOver:!0},t);var e=!0,i=this;this.dropColor=16777215,this.MAX_BOTTLE_CAPACITY=1e3,this.MAX_BURETTE_CAPACITY=15,this.bottle.topValue=this.bottle.water_top.y,this.bottle.bottomValue=this.bottle.water_bottom.y,this.bottle.max_capacity=this.MAX_BOTTLE_CAPACITY,this.burette.movie.max_capacity=this.MAX_BURETTE_CAPACITY,this.isCorver=function(){return this.burette.movie.hitTest(this.head)};var r={x:this.burette.x,y:this.burette.y},o=this;NBDrag.addDrag(this.burette),NBDrag.addDrag(this),a.default.init.apply(this.burette.movie),this.burette.movie.isFull=this.bottle.isFull=function(){return this.capacity==this.max_capacity},this.burette.movie.isEmpty=this.bottle.isEmpty=function(){return 0==this.capacity},Object.defineProperty(this.bottle,"capacity",{get:function(){return this._capacity||0},set:function(t){var e=-(this.topValue-this.bottomValue);this._capacity=t;var i=t/o.MAX_BOTTLE_CAPACITY;this.water_middle.height=e*i,this.water_top.y=this.bottomValue-e*i}}),this.setEnabled=function(t){e=t,!1===t&&TweenMax.killTweensOf(this.burette)},this.getEnabled=function(){return e},this.bottle.capacity=this.MAX_BOTTLE_CAPACITY;var s=this.parent;this.burette.on(NBDrag.event.START_DRAG,function(t){t.data.isPropagationStopped=!0,TweenMax.killTweensOf(this),s.addChildWithSamePos(this)}),this.burette.on(NBDrag.event.STOP_DRAG,function(){o.isCorver()&&(this.x=r.x,this.y=r.y,i.addChildAt(this,0),this.emit(n.event.BURETTE_IN_BOTTLE))}),NBGesture.addGesture(this.burette,NBGesture.gesture.TAP,function(t){t&&this.clickBurette()}),this.burette.clickBurette=function(){var t=this;if(n.config.isDropOver&&i.emit(n.event.BURETTE_TAP),!1!==e){var a=o.burette.movie.capacity;!1!==o.isCorver()||!0!==o.burette.movie.isEmpty()?TweenMax.to(this,1.5,{onUpdate:function(){if(o.isCorver())0==o.burette.movie.isFull()&&0==o.bottle.isEmpty()&&this.progress()>(o.burette.movie.capacity-a)/(o.burette.movie.max_capacity-a)&&(o.burette.movie.capacity++,o.bottle.capacity--);else if(0==o.burette.movie.isEmpty()&&1-this.progress()<o.burette.movie.capacity/a){o.burette.movie.capacity--;var e=new PIXI.Graphics;e.beginFill(i.dropColor,.3),e.drawEllipse(0,0,$s(6),$s(12)),o.burette.movie.addChild(e),e.x=o.burette.movie.width/2-5,e.y=o.burette.movie.height,e.destory=function(){this.parent&&(TweenMax.killTweensOf(this),this.parent.removeChild(this))},TweenMax.to(e,1,{y:e.y+$s(800),alpha:0,onComplete:function(t){t.destory()},onCompleteParams:[e]}),o.emit(n.event.BURETTE_POP,{target:o.burette,drop:e})}n.config.isDropOver||TweenMax.killTweensOf(t)}}):instance.NBDownTipsError.showTip(n.buretteInfo.EMPTY)}},this.burette.movie.setCapacity=this.bottle.setCapacity=function(t){this.capacity=t||this.max_capacity},this.burette.backDefaultPos=function(){i.addChildWithSamePos(i.burette),i.addChildAt(i.burette,0),TweenMax.to(i.burette,.5,{x:r.x,y:r.y,ease:Sine.easeInOut,onComplete:function(){i.emit(n.event.BACK)}})}}};e.default=n},533:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={init:function(){Object.defineProperty(this,"capacity",{get:function(){return this._capacity||0},set:function(t){t<=this.max_capacity&&t>=0&&(t<this.totalFrames&&this.gotoAndStop(t),this._capacity=t)}}),void 0==this.max_capacity&&(this.max_capacity=15),this.isFull=function(){return this.capacity==this.max_capacity},this.isEmpty=function(){return 0==this.capacity}}};e.default=a}});