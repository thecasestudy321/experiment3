webpackJsonp([117],{302:function(t,e,a){"use strict";var i=r(a(572)),n=r(a(520));function r(t){return t&&t.__esModule?t:{default:t}}nb.substance0047=extendsClass(ScienceMain,{frame0:function(){var t=this,e=t.chart,a=t.timeline;i.default.bind(e,{oX:6,oY:0,uX:12,uY:20,drawPoint:!1}),n.default.init.apply(a),a.setAutoPlay(!0,1),a.setDrag(!0),a.addEventListener(n.default.event.ON_PLAY,x),a.addEventListener(n.default.event.ON_COMPLETE,x);for(var r="AM",o=360,s=100,d=t.sign.x-t.sun.x,u=t.sign.x-t.sun.x,l=[],h=0;h<=1;h+=.001){var c=h*Math.PI,g=Math.round(NBPoint.distance({x:o*Math.cos(c),y:s*Math.sin(c)},{x:0,y:0})/50*10)/10+10,v=Math.floor((720*h+360)/60)+Math.round(Math.floor(720*h+360)%60*100)/100/60,f=g;l.push({x:v,y:f})}function x(a){if(void 0!=a.time){(function(e){var a=Math.round(NBPoint.distance({x:o*Math.cos(e),y:s*Math.sin(e)},{x:0,y:0})/50*10)/10+10;t.sign.txt.text=a+"cm",t.sign.txt.x=o*Math.cos(e)/2-t.sign.txt.width/2,t.sign.txt.y=s*Math.sin(e)/2-t.sign.txt.height,t.sun.x=t.sign.x+d*Math.cos(Math.PI+e),t.sun.y=t.sign.y+u*Math.sin(Math.PI+e),t.sign.addChildAt(m,0),m.clear(),m.lineStyle(4,0,1),m.beginFill(0,1),m.moveTo(0,0),m.lineTo(o*Math.cos(e),s*Math.sin(e))})(a.time*Math.PI);var i=Math.floor((720*a.time+360)/60),n=Math.round(Math.floor(720*a.time+360)%60*100)/100;!function(t,a){var i=t+a/60;e.updateNum({num:l.filter(function(t){return t.x<=i})})}(i,n),n<10&&(n="0"+n),t.timeline.drag.dragtxt.text=i+":"+n;var h=t.timeline.drag.dragtxt.text;r=i>=12?"PM":"AM",t.sun.suntxt.text=h+r}}var m=new PIXI.Graphics},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"从清晨到黄昏，太阳在天空中的位置不断变化，人的影子也是有时候长一些有时候短一些，你能找到影子变化的规律么？",labName:"阳光下影子的变化",CONCLUSION:"影子长短的变化是随着太阳在天空中的位置变化而变化的。<br ／>正午时影子最短；清晨和傍晚影子最长；上午影子逐渐变短，下午影子逐渐变长。",newLayOut:!0},const:{},event:{}}),t.exports=nb.substance0047},520:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var t,e,a=this;if(a.bgMask){var n=a.bgMask.getChildAt(0);a.progressBar.mask=n,n.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,s=[];a.drag.lastPos={x:a.drag.x,y:a.drag.y};for(var d=0;d<int.MAX_VALUE;d++){var u=this["a"+d];if(void 0===u){e="vertical"===r?this["a"+(d-1)].y:this["a"+(d-1)].x,o=d;break}s.push(u),0===d&&(t="vertical"===r?u.y:u.x),u.addEventListener(TouchEvent.TAP,function(){var t=this;"vertical"===r?TweenMax.to(a.drag,.5,{y:this.y}):TweenMax.to(a.drag,.5,{x:this.x,onComplete:function(){a.emit(i.event.CLICK_NODE_REACHED,{index:t.name.substr(1,1)})}}),this.totalFrames&&(s.forEach(function(t){return t.currentFrame=0}),this.currentFrame=1),a.drag.lastPos={x:this.x,y:this.y},a.emit(i.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(n){n?(NBDrag.addDrag(a.drag),a.drag.on(NBDrag.event.START_DRAG,function(){var n=(a.drag.x-t)/(e-t);a.emit(i.event.START_DRAG,{time:n})}),a.drag.on(NBDrag.event.DRAG_MOVE,function(){var n=(a.drag.x-t)/(e-t);a.emit(i.event.DRAGING,{time:n})}),a.drag.on(NBDrag.event.STOP_DRAG,function(){var n=(a.drag.x-t)/(e-t);a.emit(i.event.STOP_DRAG,{time:n}),n>=1&&a.emit(i.event.ON_COMPLETE,{time:n})})):NBDrag.removeDrag(a.drag)},a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var i=o-1;if("vertical"===r){var n=Math.round((this.y-t)/(e-t)*i);n<0&&(n=0)}else{var s=Math.round((this.x-t)/(e-t)*i);s<0&&(s=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){c()});var l=!1;a.drag.constY=a.drag.y;var h,c=function(){a.drag.y=a.drag.constY,a.drag.x>=e&&(a.drag.x=e),a.drag.x<=t&&(a.drag.x=t);var n=(a.drag.x-t)/(e-t);if(n<1){l=!1,a.emit(i.event.ON_PLAY,{time:n});for(var r=0;r<s.length;r++)a.drag.lastPos.x<=s[r].x&&a.drag.x>s[r].x&&a.emit(i.event.REACHED_NODE,{index:r})}else l||(l=!0,a.emit(i.event.ON_COMPLETE,{time:n}));(a.drag.line0&&(a.drag.line0.rotation=1800*n*Math.PI/180,a.drag.line1.rotation=360*n*Math.PI/180),a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=n);a.drag.lastPos={x:a.drag.x,y:a.drag.y}};this.getNodeCount=function(){return o},this.setNodePos=function(t){var e=this["a"+t];"vertical"===r?a.drag.y=e.y:a.drag.x=e.x},nb.MovieClip.ticker.add(function(){a._auto_&&!a.drag.isDragging&&("vertical"===r?a.drag.y+=a._speed_:a.drag.x+=a._speed_,c())}),this.setAutoPlay=function(t,e){this._auto_=t,this._speed_=e||.1},this.setAutoAlign=function(t){this._align_=t},this.setMomentsPause=function(t,e,i){clearTimeout(h),t&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(h),a.setAutoPlay(!1),h=setTimeout(function(){a.setAutoPlay(!0,i)},e)):a.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=0)}}};e.default=i},572:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={},n={directionX:1,directionY:-1,oX:0,oY:0,uX:1,uY:1,pointColor:16777215,pointRadius:4,lineColor:16777215,lineAlpha:1,lineWidth:2,drawLine:!0,drawPoint:!0},r={num:[]};i.bind=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t||this,i=a.unit;if(i){i.visible=!1,a._chartConfig=Object.assign({},n,e);var o=a._chartConfig,s=(o.oX,o.oY,o.uX),d=o.uY,u=i.x,l=i.y,h=i.width,c=i.height;a._chartUW=h/s,a._chartUH=c/d;var g=new PIXI.Graphics;a.addChild(g),g.x=u,g.y=l,a._chartGra=g,a.updateNum=function(){var t=arguments,e=t.length;if(e){a._chartNum=[];for(var i=0;i<e;++i)a._chartNum.push(Object.assign({},r,t[i]));!function(){var t=a._chartConfig,e=a._chartGra,i=a._chartNum,n=a._chartUW,r=a._chartUH,o=t.directionX,s=t.directionY,d=t.oX,u=t.oY;v(),i.forEach(function(a){var i=a.num,l=a.drawPoint,h=a.drawLine;l=l||t.drawPoint,h=h||t.drawLine;var c=[];if(i.length){if(i.forEach(function(e,i){var l=e.x,h=e.y;if(void 0!==l&&void 0!==h){var g=(l-d)*n*o,v=(h-u)*r*s,f=e.pointRadius||a.pointRadius||t.pointRadius,x=e.pointColor||a.pointColor||t.pointColor;c.push({px:g,py:v,pointRadius:f,pointColor:x})}else console.error("updateNum第"+i+"项不合法，必须含有x, y键请确认")}),h){var g=c[0],v=g.px,f=g.py,x=a.lineWidth||t.lineWidth,m=a.lineColor||t.lineColor,_=a.lineAlpha||t.lineAlpha;e.lineStyle(x,m,_),e.moveTo(v,f);for(var p=c.length,M=1;M<p;++M){var y=c[M],P=y.px,A=y.py;e.lineTo(P,A),M<p-1&&e.moveTo(P,A)}}l&&c.forEach(function(t){var a=t.px,i=t.py,n=t.pointRadius,r=t.pointColor;e.lineStyle(0,r,0),e.beginFill(r),e.drawCircle(a,i,n),e.endFill()})}})}()}else v()}}else console.error("请正确传入对象且配置完好");function v(){a._chartGra.clear()}},e.default=i}});