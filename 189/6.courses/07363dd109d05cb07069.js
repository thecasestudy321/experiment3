webpackJsonp([6],{169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){for(var i=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,o=n||!1,d=a||{addArrow:!1,type:"horizontal",scale:1},s=new PIXI.Container,l=0;l<3;++l){var h=l+1,u=PIXI.Sprite.fromFrame("TAP_1"+h);u.x=-u.width/2,u.y=-u.height/2;var c=new PIXI.Container;c.addChild(u),s.addChild(c)}var v=0;if(d.direction)switch(d.direction){case"top":v=-Math.PI/2;break;case"bottom":v=Math.PI/2;break;case"left":v=Math.PI;break;case"right":v=0;break;default:v=0}s.filters=[r];for(var f=0;f<s.children.length;f++){var p=s.children[f];p.scale.x=p.scale.y=2,f<2&&M(p,.75*f)}if(i.addChild(s),d.addArrow){var g,m;if(d.direction){g=PIXI.Sprite.fromFrame("oneArrow"),m=new PIXI.extras.MovieClip([g]);var x=d.scale?d.scale:1;m.scale.x=m.scale.y=x,m.pivot={x:0,y:m.height/2},m.rotation=v}else{g=PIXI.Sprite.fromFrame("NBarrow"),(m=new PIXI.extras.MovieClip([g])).pivot={x:m.width/2,y:m.height/2};var T=d.scale?d.scale:1;m.scale.x=m.scale.y=T,"horizontal"!==(d.type?d.type:"horizontal")&&(m.rotation=Math.PI/2)}i.addChild(m),i.arrow=m,i.addEventListener("hideArrow",function(){m.alpha=0,m.visible=!1}),i.addEventListener("showArrow",function(){m.alpha=1,m.visible=!0})}s.alpha=.4;var E=new PIXI.Graphics;function M(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return E.beginFill(16776960,0),E.drawRect(-50,-50,100,100),i.addChild(E),i.addEventListener(MouseEvent.MOUSE_OVER,function(){s.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){s.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!o&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=t,i.setColor=function(e){var t=e>>16,n=e>>8&255,a=255&e;r._loadMatrix([t,0,0,0,0,0,n,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),s.filters=[r]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(d.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(t),t.pivot={x:0,y:m.height/2},t.rotation=Math.PI/2*(e+1)}else{var n=new PIXI.Container;n.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(n),n.pivot={x:m.width/2,y:m.height/2},n.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},289:function(e,t,n){"use strict";var a=o(n(558)),i=o(n(169)),r=o(n(520));function o(e){return e&&e.__esModule?e:{default:e}}nb.substance0023=extendsClass(ScienceMain,{frame0:function(){var e=this,t=e.timeline,n=e.step0,o=e.step1,d=e.step2,s=e.step3,l=e.step4;s.hand.defaultY=s.hand.y,t.NOTafterStopPlay=!0,r.default.init.apply(e.timeline);for(var h=[],u=0;u<5;u++){var c=e["step"+u];c.defaultX=c.x,c.defaultY=c.y,h.push(c),u>0&&(c.alpha=0,c.visible=!1)}var v=0;t.addEventListener("nodeTap",function(e){instance.NBDownTip.hideTip();var t=parseInt(e.index),n=h[v],a=h[t],r=0,o=n.width+100;n.sound&&n.sound.stop(),n.audio&&n.audio.pause(),t<v?(a.x=-o,r=o):(a.x=o,r=-a.x),TweenMax.to(a,.5,{x:"+="+r,alpha:1,onStart:function(){a.visible=!0}}),TweenMax.to(n,.5,{x:"+="+r,alpha:0,onComplete:function(){n.visible=!1}}),3===t?(TweenMax.killTweensOf(s.hand),s.hand.defaultY&&(s.hand.y=s.hand.defaultY),function(){var e=s.hand;D||(D=(0,i.default)(e.width/2,e.height/2,!0));e.addChild(D),e.addEventListener(TouchEvent.TAP,function(){instance.NBDownTip.hideTip(),e.removeChild(D);var t=new TimelineMax;t.add(TweenMax.to(e,3,{y:s.handPos.y,easeIn:Cubic.easeOut}))})}()):4===t&&function(){var e=l.chizi;e.currentFrame=0,S||(S=(0,i.default)(0,0,!0));e.addChild(S),e.addEventListener(TouchEvent.TAP,function(){instance.NBDownTip.hideTip(),e.removeChild(S),e.animationSpeed=.2,e.loop=!1,e.play()})}(),v=t});var f=new Audio(a.default);f.load(),n.audio=f;var p=[],g=[],m=PIXI.Texture.fromFrame("ruler.png"),x=30,T=0,E=.3,M=8,A=m.width/x,_=0,y=n.hand,C=n.ref,P=void 0,I=(0,i.default)(900,560,!0,{addArrow:!0,direction:"bottom"});n.point0=I,n.addChild(I),function(){for(var e=0;e<x;e++)p.push(new PIXI.Point(e*A,0)),g.push({x:e*A,y:0});function t(e){if("upDown"===P.direction){r=-(P.downPoint.y-e.data.global.y),T+=r/180,_=Math.PI/2,P.downPoint.y=e.data.global.y,M=(P.x+m.width-(y.x+y.width))/m.width*x>>0;var t=(M=x-M)/x,n=instance.const.VERTICAL_MIN_ANGLE+instance.const.MAX_ANGLE_PARAM*(1-t);T>n?T=n:T<-n&&(T=-n)}else{var a=e.data.global.x,i=e.data.global.y,r=instance.const.SENSITIVITY;Math.abs(i-P.downPoint.y)>r?P.direction="upDown":Math.abs(a-P.downPoint.x)>r&&(P.direction="leftRight",P.downPoint.x=e.data.global.x)}}function a(){"upDown"===P.direction?(!function(){n.isPlayed=!0,f.pause(),f.currentTime=0;var e=M/x;if(E=.5+.5*e,f.playbackRate=.5+1*e,instance.const.ALLOW_CHANGE_VOLUME){var t=instance.const.VERTICAL_MIN_ANGLE+instance.const.MAX_ANGLE_PARAM*(1-e);T=Math.abs(T),f.volume=T/t}else T=.1+.3*(1-e);f.play()}(),C.emit("startPlay")):(o.isPlayed||n.addChild(I),0!==f.currentTime&&f.play()),P.drag=!1,P.direction="",C.removeListener(TouchEvent.TOUCH_MOVE,t),C.removeListener(TouchEvent.TOUCH_END,a),C.removeListener(TouchEvent.TOUCH_END_OUDSIDE,a)}P=new PIXI.mesh.Rope(m,p),n.addChildAt(P,1),P.x=y.x,P.y=y.y,C.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){n.removeChild(I),f.pause(),P.drag=!0,C.addEventListener(TouchEvent.TOUCH_MOVE,t),C.addEventListener(TouchEvent.TOUCH_END,a),C.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,a),P.downPoint={x:e.data.global.x,y:e.data.global.y}})}();var w=new nb.Box2d(o),N=(0,i.default)(80,75,!0,{addArrow:!0,direction:"right"});N.scale.set(1.5,1.5),o.hammer.head.addChild(N),o.hammer.head.point=N,o.j0.b2Joint.EnableMotor(!0),o.j0.b2Joint.SetMotorSpeed(30),o.forkArea.on(Box2dEvent.BEGIN_CONTACT,function(e){if(o.isPlayed=!0,instance.NBDownTip.hideTip(),o.hammer.head.removeChild(N),!o.tuningFork.playing){TweenMax.killTweensOf(this);var t=Math.abs(e.bodyB.GetAngularVelocity());if(t){if(t>5&&(t=5),!(t/5<.05)){this.sound&&this.sound.stop(),this.sound=SoundManager.play(instance.const.LUO_SOUND,null,null,null,null,t/5),o.sound=this.sound;var n=TweenMax.to(this,t,{onUpdate:function(){n&&(o.tuningFork.animationSpeed=Math.sqrt(1-n.progress()))},onComplete:function(){o.tuningFork.gotoAndStop(0)}});o.tuningFork.play()}}}}),L(o);var O=new nb.Box2d(d,{gravityX:10,gravityY:0}),b=(0,i.default)(80,75,!0,{addArrow:!0,direction:"right"});b.scale.set(1.5,1.5),d.j0.b2Joint.EnableMotor(!0),d.j0.b2Joint.SetMotorSpeed(30),d.hammer.head.addChild(b),d.hammer.head.point=b,L(d),d.forkArea.on(Box2dEvent.BEGIN_CONTACT,function(e){if(instance.NBDownTip.hideTip(),d.isPlayed=!0,o.hammer.head.removeChild(b),!d.tuningFork.playing){TweenMax.killTweensOf(this);var t=Math.abs(e.bodyB.GetAngularVelocity());if(t){if(t>5&&(t=5),!(t/5<.05)){this.sound&&this.sound.stop(),this.sound=SoundManager.play(instance.const.DRUM_SOUND,null,null,null,null,t/5),d.sound=this.sound;var n=TweenMax.to(this,t,{onUpdate:function(){n&&(d.tuningFork.animationSpeed=Math.sqrt(1-n.progress()))},onComplete:function(){d.tuningFork.gotoAndStop(0)}});d.tuningFork.play()}}}});var D=null;var S=null;function L(e){e.hammer.addEventListener(NBDrag.event.START_DRAG,function(){e.hammer.head.removeChild(e.hammer.head.point)}),e.hammer.addEventListener(NBDrag.event.STOP_DRAG,function(){setTimeout(function(){e.isPlayed||e.hammer.head.addChild(e.hammer.head.point)},600)})}e.onUpdate=function(){!function(){if(!1===P.drag){if(0===T)return void(0!==f.currentTime&&(f.pause(),f.currentTime=0));(T-=.0025)<0&&(T=0,e.isEmit||(C.emit("playStop"),e.isEmit=!0)),_+=E}for(var t=T*Math.sin(_),n={x:g[M-1].x,y:0},a=M;a<x;a++)n=NBMath.rotaPoint({x:n.x+A,y:n.y},n,t*(a-M)/(x-M)),p[a].x=n.x,p[a].y=n.y}(),w.render(),o.j0.b2Joint.SetMaxMotorTorque(200*-o.hammer.rotation),O.render(),d.j0.b2Joint.SetMaxMotorTorque(200*-(d.hammer.rotation+Math.PI/2))}},start:function(){SoundManager.register({src:n(559),id:instance.const.FORK_SOUND}),SoundManager.register({src:n(560),id:instance.const.LUO_SOUND}),SoundManager.register({src:n(561),id:instance.const.DRUM_SOUND}),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"想办法使锣、鼓、橡皮筋、钢尺发出声音。",labName:"使物体发出声音",title0:"使物体发声",CONCLUSION:"有些方法可以使物体发出声音，有些方法不可以。"},const:{FORK_SOUND:"forkSound",LUO_SOUND:"luoSound",DRUM_SOUND:"drumSound",LINE_SOUND:"linesound",ALLOW_LEFT_RIGHT:!1,ALLOW_CHANGE_VOLUME:!0,SENSITIVITY:0,VERTICAL_MIN_ANGLE:.2,MAX_ANGLE_PARAM:.4},event:{}}),e.exports=nb.substance0023},520:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var e,t,n=this;if(n.bgMask){var i=n.bgMask.getChildAt(0);n.progressBar.mask=i,i.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,d=[];n.drag.lastPos={x:n.drag.x,y:n.drag.y};for(var s=0;s<int.MAX_VALUE;s++){var l=this["a"+s];if(void 0===l){t="vertical"===r?this["a"+(s-1)].y:this["a"+(s-1)].x,o=s;break}d.push(l),0===s&&(e="vertical"===r?l.y:l.x),l.addEventListener(TouchEvent.TAP,function(){var e=this;"vertical"===r?TweenMax.to(n.drag,.5,{y:this.y}):TweenMax.to(n.drag,.5,{x:this.x,onComplete:function(){n.emit(a.event.CLICK_NODE_REACHED,{index:e.name.substr(1,1)})}}),this.totalFrames&&(d.forEach(function(e){return e.currentFrame=0}),this.currentFrame=1),n.drag.lastPos={x:this.x,y:this.y},n.emit(a.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(i){i?(NBDrag.addDrag(n.drag),n.drag.on(NBDrag.event.START_DRAG,function(){var i=(n.drag.x-e)/(t-e);n.emit(a.event.START_DRAG,{time:i})}),n.drag.on(NBDrag.event.DRAG_MOVE,function(){var i=(n.drag.x-e)/(t-e);n.emit(a.event.DRAGING,{time:i})}),n.drag.on(NBDrag.event.STOP_DRAG,function(){var i=(n.drag.x-e)/(t-e);n.emit(a.event.STOP_DRAG,{time:i}),i>=1&&n.emit(a.event.ON_COMPLETE,{time:i})})):NBDrag.removeDrag(n.drag)},n.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==n._align_){var a=o-1;if("vertical"===r){var i=Math.round((this.y-e)/(t-e)*a);i<0&&(i=0)}else{var d=Math.round((this.x-e)/(t-e)*a);d<0&&(d=0)}}}),n.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){c()});var h=!1;n.drag.constY=n.drag.y;var u,c=function(){n.drag.y=n.drag.constY,n.drag.x>=t&&(n.drag.x=t),n.drag.x<=e&&(n.drag.x=e);var i=(n.drag.x-e)/(t-e);if(i<1){h=!1,n.emit(a.event.ON_PLAY,{time:i});for(var r=0;r<d.length;r++)n.drag.lastPos.x<=d[r].x&&n.drag.x>d[r].x&&n.emit(a.event.REACHED_NODE,{index:r})}else h||(h=!0,n.emit(a.event.ON_COMPLETE,{time:i}));(n.drag.line0&&(n.drag.line0.rotation=1800*i*Math.PI/180,n.drag.line1.rotation=360*i*Math.PI/180),n.bgMask)&&(n.bgMask.getChildAt(0).scale.x=i);n.drag.lastPos={x:n.drag.x,y:n.drag.y}};this.getNodeCount=function(){return o},this.setNodePos=function(e){var t=this["a"+e];"vertical"===r?n.drag.y=t.y:n.drag.x=t.x},nb.MovieClip.ticker.add(function(){n._auto_&&!n.drag.isDragging&&("vertical"===r?n.drag.y+=n._speed_:n.drag.x+=n._speed_,c())}),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,a){clearTimeout(u),e&&!n.NOTafterStopPlay?(n.setAutoPlay(!1),clearTimeout(u),n.setAutoPlay(!1),u=setTimeout(function(){n.setAutoPlay(!0,a)},t)):n.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,n.bgMask)&&(n.bgMask.getChildAt(0).scale.x=0)}}};t.default=a},558:function(e,t,n){e.exports=n.p+"77e2a8878f1051e97a70311417ad9d3f.mp3"},559:function(e,t,n){e.exports=n.p+"bb3999a31d07fc699b214fc0add8dd1e.mp3"},560:function(e,t,n){e.exports=n.p+"c5585bdde2e60b506b085fb5b8da969f.mp3"},561:function(e,t,n){e.exports=n.p+"df5f9ac230b228003b514e3dafd19fdb.mp3"}});