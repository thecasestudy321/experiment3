webpackJsonp([162],{346:function(e,t,a){"use strict";var n=r(a(520)),i=r(a(521));function r(e){return e&&e.__esModule?e:{default:e}}nb.substance0124=extendsClass(ScienceMain,{frame0:function(){var e=this;e.paper.addEventListener(TouchEvent.TAP,function t(){e.paper.removeListener(TouchEvent.TAP,t);TweenMax.isTweening(e.paper)||(e.paper.gotoAndStop(0),TweenMax.to(e.paper,5,{currentFrame:e.paper.totalFrames-1}))})},frame1:function(){var e=this,t=e.timeline,a=e.tiejiatai,r=e.lvzhi,o=a.daoguan,s=[];!function(){a.alpha=0,t.alpha=0,o.alpha=0;for(var d=0;d<3;d++){var u=e["step"+d];u.alpha=0,s.push(u),u.cup1.defaultX=u.cup1.x,u.cup1.defaultY=u.cup1.y}var l=new TimelineMax({onComplete:function(){n.default.init.apply(t),i.default.apply(e),instance.draw.apply(s[0]),s[0].inited=!0,t.on(n.default.event.CLICK_NODE_REACHED,function(e){var t=s[e.index];t.inited||(instance.draw.apply(t),t.inited=!0)})}});l.add([TweenMax.to(r,1,{x:"+= 300"}),TweenMax.to(r.scale,1,{x:1,y:1})]),l.add(TweenMax.to(a,1,{alpha:1,onComplete:function(){a.addChildWithSamePos(r),a.setChildIndex(r,a.getChildIndex(a.lvzhiPos))}})),l.add(TweenMax.to(r,1,{x:a.lvzhiPos.x,y:a.lvzhiPos.y-100})),l.add(TweenMax.to(r,1,{y:a.lvzhiPos.y})),l.add(TweenMax.to(o,1,{alpha:1})),l.add(TweenMax.to(e.step0,.5,{alpha:1,onComplete:function(){e.step0.addChildWithSamePos(a),e.step0.setChildIndex(a,0)}})),l.add(TweenMax.to(t,.5,{alpha:1}))}(),e.onUpdate=function(){s.forEach(function(e){e.stepUpdate&&e.stepUpdate()})}},draw:function(){var e=this;e.cup1.isDraged||NBDrag.addDrag(e.cup1);this.stepUpdate=function(){e.glass.currentFrame!=e.glass.totalFrames-2||TweenMax.isTweening(e.cup0)||TweenMax.to(e.cup0,20,{currentFrame:e.cup0.totalFrames-1})},e.cup1.addEventListener(NBDrag.event.START_DRAG,function(){e.txt.alpha=0}),e.cup1.addEventListener(NBDrag.event.STOP_DRAG,function(){if(NBDrag.removeDrag(e.cup1),e.cup1.hitTest(e.glass)){this.isDraged=!0;var t=new TimelineMax;t.add(TweenMax.to(e.cup1,.5,{x:e.glass.x-$s(5),y:e.glass.y-$s(260)+e.cup1.height})),t.add([TweenMax.to(e.cup1,3,{rotation:-60*Math.PI/180}),TweenMax.to(e.cup1,3,{currentFrame:e.cup1.totalFrames-1,onComplete:function(){e.glass.gotoAndStop(2)}})]),t.add(TweenMax.to(e.glass,2,{repeat:2,currentFrame:e.glass.totalFrames-1,onComplete:function(){e.glass.gotoAndStop(0)}})),t.add(TweenMax.to(e.cup1,1.5,{rotation:0})),t.add(TweenMax.to(e.cup1,.5,{alpha:0}))}else TweenMax.to(this,.3,{x:this.defaultX,y:this.defaultY,onComplete:function(){e.txt.alpha=1,NBDrag.addDrag(e.cup1)}})})},frame2:function(){},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0"),this.bindScriptToSprite(this.frame1,"frame1"),this.bindScriptToSprite(this.frame2,"frame2")},info:{experimentImport:"食盐易溶于水中，沙和面粉不易溶于水。想一想，如果用过滤的方法，可以将食盐、沙、面粉与水分开吗？",labName:"过滤",title0:"1、折叠滤纸",title1:"2、选择需要过滤的溶液，将溶液沿着玻璃棒倒入滤纸观察效果",title2:"3、观察比较滤纸上的残留物",CONCLUSION:"过滤后，滤纸上没有留下食盐颗粒；沙和面粉颗粒留在了滤纸上。用过滤的方法不能把溶解在水中的食盐颗粒分离出来，而沙和面粉可以通过过滤的方法从水中分离出来。"},const:{},event:{}}),e.exports=nb.substance0124},520:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var e,t,a=this;if(a.bgMask){var i=a.bgMask.getChildAt(0);a.progressBar.mask=i,i.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,s=[];a.drag.lastPos={x:a.drag.x,y:a.drag.y};for(var d=0;d<int.MAX_VALUE;d++){var u=this["a"+d];if(void 0===u){t="vertical"===r?this["a"+(d-1)].y:this["a"+(d-1)].x,o=d;break}s.push(u),0===d&&(e="vertical"===r?u.y:u.x),u.addEventListener(TouchEvent.TAP,function(){var e=this;"vertical"===r?TweenMax.to(a.drag,.5,{y:this.y}):TweenMax.to(a.drag,.5,{x:this.x,onComplete:function(){a.emit(n.event.CLICK_NODE_REACHED,{index:e.name.substr(1,1)})}}),this.totalFrames&&(s.forEach(function(e){return e.currentFrame=0}),this.currentFrame=1),a.drag.lastPos={x:this.x,y:this.y},a.emit(n.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(i){i?(NBDrag.addDrag(a.drag),a.drag.on(NBDrag.event.START_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.START_DRAG,{time:i})}),a.drag.on(NBDrag.event.DRAG_MOVE,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.DRAGING,{time:i})}),a.drag.on(NBDrag.event.STOP_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.STOP_DRAG,{time:i}),i>=1&&a.emit(n.event.ON_COMPLETE,{time:i})})):NBDrag.removeDrag(a.drag)},a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var n=o-1;if("vertical"===r){var i=Math.round((this.y-e)/(t-e)*n);i<0&&(i=0)}else{var s=Math.round((this.x-e)/(t-e)*n);s<0&&(s=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){p()});var l=!1;a.drag.constY=a.drag.y;var c,p=function(){a.drag.y=a.drag.constY,a.drag.x>=t&&(a.drag.x=t),a.drag.x<=e&&(a.drag.x=e);var i=(a.drag.x-e)/(t-e);if(i<1){l=!1,a.emit(n.event.ON_PLAY,{time:i});for(var r=0;r<s.length;r++)a.drag.lastPos.x<=s[r].x&&a.drag.x>s[r].x&&a.emit(n.event.REACHED_NODE,{index:r})}else l||(l=!0,a.emit(n.event.ON_COMPLETE,{time:i}));(a.drag.line0&&(a.drag.line0.rotation=1800*i*Math.PI/180,a.drag.line1.rotation=360*i*Math.PI/180),a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=i);a.drag.lastPos={x:a.drag.x,y:a.drag.y}};this.getNodeCount=function(){return o},this.setNodePos=function(e){var t=this["a"+e];"vertical"===r?a.drag.y=t.y:a.drag.x=t.x},nb.MovieClip.ticker.add(function(){a._auto_&&!a.drag.isDragging&&("vertical"===r?a.drag.y+=a._speed_:a.drag.x+=a._speed_,p())}),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,n){clearTimeout(c),e&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(c),a.setAutoPlay(!1),c=setTimeout(function(){a.setAutoPlay(!0,n)},t)):a.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=0)}}};t.default=n},521:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e||{};var t=this,a=[];n.default.init.apply(this.timeline);for(var i=0;i<this.timeline.getNodeCount();i++){var r=this["step"+i];a.push(r),r.alpha=0,r.visible=!1}var o=this.step0;o.visible=!0,o.alpha=1;var s=0;this.timeline.on(n.default.event.CLICK_NODE,function(n){if(void 0!==n.index&&n.index!=s){var i=e.offset||1200;i=n.index>s?$s(i):-$s(i);var r=void 0!==o.currentX?o.currentX:o.currentX=o.x;TweenMax.to(o,e.oldTm||.6,{x:r+i,alpha:0,onComplete:function(t){t.visible=!1,e.isFix||(t.y=0)},onCompleteParams:[o],ease:Expo.easeOut}),s=n.index,(o=a[s]).visible=!0,r=void 0!==o.currentX?o.currentX:o.currentX=o.x,o.x=r-i,TweenMax.to(o,e.newTm||1,{x:r,alpha:1,ease:Expo.easeOut,onComplete:function(){t.emit(t.boxSwitch_event.CHANGE_COM,{target:o,index:n.index})}})}}),this.addEventListener("render",function(){o.onUpdate&&o.onUpdate()}),t.boxSwitch_event={CHANGE_COM:"changeCom"}};var n=function(e){return e&&e.__esModule?e:{default:e}}(a(520))}});