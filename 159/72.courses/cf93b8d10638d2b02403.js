webpackJsonp([72],{169:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){for(var i=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,d=a||!1,o=n||{addArrow:!1,type:"horizontal",scale:1},s=new PIXI.Container,l=0;l<3;++l){var c=l+1,h=PIXI.Sprite.fromFrame("TAP_1"+c);h.x=-h.width/2,h.y=-h.height/2;var v=new PIXI.Container;v.addChild(h),s.addChild(v)}var f=0;if(o.direction)switch(o.direction){case"top":f=-Math.PI/2;break;case"bottom":f=Math.PI/2;break;case"left":f=Math.PI;break;case"right":f=0;break;default:f=0}s.filters=[r];for(var u=0;u<s.children.length;u++){var p=s.children[u];p.scale.x=p.scale.y=2,u<2&&A(p,.75*u)}if(i.addChild(s),o.addArrow){var g,x;if(o.direction){g=PIXI.Sprite.fromFrame("oneArrow"),x=new PIXI.extras.MovieClip([g]);var m=o.scale?o.scale:1;x.scale.x=x.scale.y=m,x.pivot={x:0,y:x.height/2},x.rotation=f}else{g=PIXI.Sprite.fromFrame("NBarrow"),(x=new PIXI.extras.MovieClip([g])).pivot={x:x.width/2,y:x.height/2};var T=o.scale?o.scale:1;x.scale.x=x.scale.y=T,"horizontal"!==(o.type?o.type:"horizontal")&&(x.rotation=Math.PI/2)}i.addChild(x),i.arrow=x,i.addEventListener("hideArrow",function(){x.alpha=0,x.visible=!1}),i.addEventListener("showArrow",function(){x.alpha=1,x.visible=!0})}s.alpha=.4;var w=new PIXI.Graphics;function A(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return w.beginFill(16776960,0),w.drawRect(-50,-50,100,100),i.addChild(w),i.addEventListener(MouseEvent.MOUSE_OVER,function(){s.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){s.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!d&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=t,i.setColor=function(e){var t=e>>16,a=e>>8&255,n=255&e;r._loadMatrix([t,0,0,0,0,0,a,0,0,0,0,0,n,0,0,0,0,0,255,0],!1),s.filters=[r]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(o.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(t),t.pivot={x:0,y:x.height/2},t.rotation=Math.PI/2*(e+1)}else{var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(a),a.pivot={x:x.width/2,y:x.height/2},a.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},474:function(e,t,a){"use strict";var n=r(a(169)),i=r(a(521));function r(e){return e&&e.__esModule?e:{default:e}}nb.substance0656=extendsClass(ScienceMain,{frame0:function(){var e=this;function t(e){var t=e.nowStep,a=t.lHand.x,n=t.rHand.x,i=0;i="step0"===t.name?100:-100,NBDrag.addDrag(t.lHand,{x:a+e.leftOffset,y:t.lHand.y,height:0,width:e.slideOffset}),NBDrag.addDrag(t.rHand,{x:n+e.rightOffset,y:t.rHand.y,height:0,width:e.slideOffset}),t.lHand.addEventListener(NBDrag.event.DRAG_MOVE,function(){var e=Math.abs((t.lHand.x-a)/100);e<0&&(e=0),t.ani.currentFrame=(t.ani.totalFrames-1)*e,t.rHand.x=n-e*i}),t.rHand.addEventListener(NBDrag.event.DRAG_MOVE,function(){var e=Math.abs((n-t.rHand.x)/100);e<0&&(e=0),t.ani.currentFrame=(t.ani.totalFrames-1)*e,t.lHand.x=a+e*i})}i.default.apply(e),instance.NBDownTip.showTip("拖动手挤压毛巾"),e.currentStep="step0",t({nowStep:e.step0,leftOffset:0,rightOffset:-100,slideOffset:100}),t({nowStep:e.step1,leftOffset:-100,rightOffset:0,slideOffset:100}),function(){var t=e.step0,a=(0,n.default)(0,0,!0,{addArrow:!0,direction:"right"}),i=(0,n.default)(0,0,!0,{addArrow:!0,direction:"left"});function r(){t.isSlide=!0,instance.NBDownTip.hideTip(),t.lHand.removeChild(t.lHand.point),t.rHand.removeChild(t.rHand.point)}t.lHand.addChild(a),t.rHand.addChild(i),t.lHand.point=a,t.rHand.point=i,t.lHand.addEventListener(NBDrag.event.START_DRAG,r),t.rHand.addEventListener(NBDrag.event.START_DRAG,r)}(),function(){var t=e.step1,a=(0,n.default)(0,0,!0,{addArrow:!0,direction:"left"}),i=(0,n.default)(0,0,!0,{addArrow:!0,direction:"right"});function r(){t.isSlide=!0,TweenMax.to([t.lHand.scale,t.rHand.scale],.3,{x:.9,y:.9}),instance.NBDownTip.hideTip(),t.lHand.removeChild(t.lHand.point),t.rHand.removeChild(t.rHand.point)}function d(){TweenMax.to([t.lHand.scale,t.rHand.scale],.3,{x:1,y:1})}t.lHand.addChild(a),t.rHand.addChild(i),t.lHand.point=a,t.rHand.point=i,t.lHand.addEventListener(NBDrag.event.START_DRAG,r),t.rHand.addEventListener(NBDrag.event.START_DRAG,r),t.rHand.addEventListener(NBDrag.event.STOP_DRAG,d),t.lHand.addEventListener(NBDrag.event.STOP_DRAG,d)}(),function(){for(var t=e.step2,a=(0,n.default)(-10,-20),i=0;i<3;i++){var r=t["ani"+i];r.addEventListener(TouchEvent.TAP,d)}function d(){this.isTap=!0,this.removeEventListener(TouchEvent.TAP,d),this.removeChild(a),instance.NBDownTip.hideTip(),TweenMax.to(this,2.5,{currentFrame:this.totalFrames-1,ease:Power0.easeNone,onComplete:o})}function o(){for(var n=0;n<3;n++){var i=t["ani"+n];if(!i.isTap){i.addChild(a),"step2"===e.currentStep&&instance.NBDownTip.showTip("点击板块观察错位");break}}}t.showTip=o}(),e.timeline.addEventListener("nodeTap",function(t){instance.NBDownTip.hideTip();var a=+t.index;0===a?(e.currentStep="step0",e.step0.isSlide||instance.NBDownTip.showTip("拖动手挤压毛巾")):1===a?(e.currentStep="step1",e.step1.isSlide||instance.NBDownTip.showTip("拖动手分离橡皮")):(e.currentStep="step2",e.step2.showTip())})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"组成地球外壳的岩石圈是一个整体，后来地球内部运动的力量使它分裂成几块，形成了现在的大陆板块，这些板块之间相互是怎么作用的呢？",labName:"模拟板块运动",CONCLUSION:"这些板块相互碰撞分离平移从而导致地表的巨大变化。",newLayOut:!0},const:{},event:{}}),e.exports=nb.substance0656},520:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var e,t,a=this;if(a.bgMask){var i=a.bgMask.getChildAt(0);a.progressBar.mask=i,i.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",d=0,o=[];a.drag.lastPos={x:a.drag.x,y:a.drag.y};for(var s=0;s<int.MAX_VALUE;s++){var l=this["a"+s];if(void 0===l){t="vertical"===r?this["a"+(s-1)].y:this["a"+(s-1)].x,d=s;break}o.push(l),0===s&&(e="vertical"===r?l.y:l.x),l.addEventListener(TouchEvent.TAP,function(){var e=this;"vertical"===r?TweenMax.to(a.drag,.5,{y:this.y}):TweenMax.to(a.drag,.5,{x:this.x,onComplete:function(){a.emit(n.event.CLICK_NODE_REACHED,{index:e.name.substr(1,1)})}}),this.totalFrames&&(o.forEach(function(e){return e.currentFrame=0}),this.currentFrame=1),a.drag.lastPos={x:this.x,y:this.y},a.emit(n.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(i){i?(NBDrag.addDrag(a.drag),a.drag.on(NBDrag.event.START_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.START_DRAG,{time:i})}),a.drag.on(NBDrag.event.DRAG_MOVE,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.DRAGING,{time:i})}),a.drag.on(NBDrag.event.STOP_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.STOP_DRAG,{time:i}),i>=1&&a.emit(n.event.ON_COMPLETE,{time:i})})):NBDrag.removeDrag(a.drag)},a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var n=d-1;if("vertical"===r){var i=Math.round((this.y-e)/(t-e)*n);i<0&&(i=0)}else{var o=Math.round((this.x-e)/(t-e)*n);o<0&&(o=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){v()});var c=!1;a.drag.constY=a.drag.y;var h,v=function(){a.drag.y=a.drag.constY,a.drag.x>=t&&(a.drag.x=t),a.drag.x<=e&&(a.drag.x=e);var i=(a.drag.x-e)/(t-e);if(i<1){c=!1,a.emit(n.event.ON_PLAY,{time:i});for(var r=0;r<o.length;r++)a.drag.lastPos.x<=o[r].x&&a.drag.x>o[r].x&&a.emit(n.event.REACHED_NODE,{index:r})}else c||(c=!0,a.emit(n.event.ON_COMPLETE,{time:i}));(a.drag.line0&&(a.drag.line0.rotation=1800*i*Math.PI/180,a.drag.line1.rotation=360*i*Math.PI/180),a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=i);a.drag.lastPos={x:a.drag.x,y:a.drag.y}};this.getNodeCount=function(){return d},this.setNodePos=function(e){var t=this["a"+e];"vertical"===r?a.drag.y=t.y:a.drag.x=t.x},nb.MovieClip.ticker.add(function(){a._auto_&&!a.drag.isDragging&&("vertical"===r?a.drag.y+=a._speed_:a.drag.x+=a._speed_,v())}),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,n){clearTimeout(h),e&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(h),a.setAutoPlay(!1),h=setTimeout(function(){a.setAutoPlay(!0,n)},t)):a.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=0)}}};t.default=n},521:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e||{};var t=this,a=[];n.default.init.apply(this.timeline);for(var i=0;i<this.timeline.getNodeCount();i++){var r=this["step"+i];a.push(r),r.alpha=0,r.visible=!1}var d=this.step0;d.visible=!0,d.alpha=1;var o=0;this.timeline.on(n.default.event.CLICK_NODE,function(n){if(void 0!==n.index&&n.index!=o){var i=e.offset||1200;i=n.index>o?$s(i):-$s(i);var r=void 0!==d.currentX?d.currentX:d.currentX=d.x;TweenMax.to(d,e.oldTm||.6,{x:r+i,alpha:0,onComplete:function(t){t.visible=!1,e.isFix||(t.y=0)},onCompleteParams:[d],ease:Expo.easeOut}),o=n.index,(d=a[o]).visible=!0,r=void 0!==d.currentX?d.currentX:d.currentX=d.x,d.x=r-i,TweenMax.to(d,e.newTm||1,{x:r,alpha:1,ease:Expo.easeOut,onComplete:function(){t.emit(t.boxSwitch_event.CHANGE_COM,{target:d,index:n.index})}})}}),this.addEventListener("render",function(){d.onUpdate&&d.onUpdate()}),t.boxSwitch_event={CHANGE_COM:"changeCom"}};var n=function(e){return e&&e.__esModule?e:{default:e}}(a(520))}});