webpackJsonp([71],{169:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){for(var i=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,o=a||!1,s=n||{addArrow:!1,type:"horizontal",scale:1},d=new PIXI.Container,l=0;l<3;++l){var u=l+1,h=PIXI.Sprite.fromFrame("TAP_1"+u);h.x=-h.width/2,h.y=-h.height/2;var c=new PIXI.Container;c.addChild(h),d.addChild(c)}var v=0;if(s.direction)switch(s.direction){case"top":v=-Math.PI/2;break;case"bottom":v=Math.PI/2;break;case"left":v=Math.PI;break;case"right":v=0;break;default:v=0}d.filters=[r];for(var p=0;p<d.children.length;p++){var f=d.children[p];f.scale.x=f.scale.y=2,p<2&&P(f,.75*p)}if(i.addChild(d),s.addArrow){var x,g;if(s.direction){x=PIXI.Sprite.fromFrame("oneArrow"),g=new PIXI.extras.MovieClip([x]);var m=s.scale?s.scale:1;g.scale.x=g.scale.y=m,g.pivot={x:0,y:g.height/2},g.rotation=v}else{x=PIXI.Sprite.fromFrame("NBarrow"),(g=new PIXI.extras.MovieClip([x])).pivot={x:g.width/2,y:g.height/2};var T=s.scale?s.scale:1;g.scale.x=g.scale.y=T,"horizontal"!==(s.type?s.type:"horizontal")&&(g.rotation=Math.PI/2)}i.addChild(g),i.arrow=g,i.addEventListener("hideArrow",function(){g.alpha=0,g.visible=!1}),i.addEventListener("showArrow",function(){g.alpha=1,g.visible=!0})}d.alpha=.4;var C=new PIXI.Graphics;function P(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return C.beginFill(16776960,0),C.drawRect(-50,-50,100,100),i.addChild(C),i.addEventListener(MouseEvent.MOUSE_OVER,function(){d.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){d.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!o&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=t,i.setColor=function(e){var t=e>>16,a=e>>8&255,n=255&e;r._loadMatrix([t,0,0,0,0,0,a,0,0,0,0,0,n,0,0,0,0,0,255,0],!1),d.filters=[r]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(s.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(t),t.pivot={x:0,y:g.height/2},t.rotation=Math.PI/2*(e+1)}else{var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(a),a.pivot={x:g.width/2,y:g.height/2},a.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},507:function(e,t,a){"use strict";var n=o(a(521)),i=o(a(520)),r=o(a(169));function o(e){return e&&e.__esModule?e:{default:e}}nb.substance0691=extendsClass(ScienceMain,{frame0:function(){var e=this,t=e.step0,a=e.step1,o=t.hitCon,s=a.timeCon,d=a.drag,l=[0,10,5];e.disTemp=0,e.group={a:0,b:0,aText:"塑料纸",bText:"透明蓄水器",inCurrentShadow:0};var u=["垂直于地面","垂直于太阳","平行于地面"];function h(){for(var e=0;e<3;e++){var t=a["s"+e];TweenMax.killTweensOf(t),TweenMax.to(t,.3,{alpha:0})}}function c(){TweenMax.to(a.timeCon,.5,{x:a.timeCon.defaultPos.x+600,ease:Sine.easeInOut,onComplete:function(){a.timeCon.timeline.drag.x=s.timeline.a0.x,a.timeCon.temp.text=20}}),s.timeline.setAutoPlay(!1)}n.default.apply(e),e.timeline.addEventListener("nodeTap",function(t){if(instance.NBDownTip.hideTip(),1==+t.index){var n=function(){0===e.group.a?(e.group.aText="塑料纸",0===e.group.b?(e.temp=25,e.group.bText="透明蓄水器"):(e.temp=24,e.group.bText="黑色蓄水器")):(e.group.aText="锡箔纸",0===e.group.b?(e.temp=27,e.group.bText="透明蓄水器"):(e.temp=30,e.group.bText="黑色蓄水器"));return e.group}();a.aText.text=n.aText,a.bText.text=n.bText,a.drag.isDrag||instance.NBDownTip.showTip("调整到合适角度观察现象"),e.timeline.a0.gotoAndStop(0),e.timeline.a1.gotoAndStop(1)}else c(),a.btn.interactive=!0,a.btn.alpha=1,e.timeline.a1.gotoAndStop(0),e.timeline.a0.gotoAndStop(1)}),function(){e.timeline.a0.gotoAndStop(1),e.timeline.drag.alpha=0,o.aCon.alpha=0,o.bCon.alpha=0,a.timeCon.defaultPos={x:a.timeCon.x};var t=(0,r.default)(0,20-a.drag.height);a.drag.addChild(t),a.drag.point=t}(),function(){instance.NBDownTip.showTip("随意选择纸和蓄水器组装一个简易热水器");for(var a=0;a<2;a++){var n=t["a"+a],i=t["b"+a];NBDrag.addDrag(n),NBDrag.addDrag(i),n.defaultPos={x:n.x,y:n.y},i.defaultPos={x:i.x,y:i.y},n.addEventListener(NBDrag.event.START_DRAG,r),i.addEventListener(NBDrag.event.START_DRAG,r),n.addEventListener(NBDrag.event.STOP_DRAG,s),i.addEventListener(NBDrag.event.STOP_DRAG,s)}function r(){instance.NBDownTip.hideTip(),TweenMax.killTweensOf(this)}function s(){var a=this,n=this.name.substr(0,1),i=+this.name.substr(1,1),r=t[n+Number(!i)],s=o[n+"Con"];this.hitTest(o)?(e.group[n]=i,TweenMax.to(this,.5,{x:o.x,y:o.y,ease:Sine.easeInOut,onComplete:function(){0===s.alpha&&TweenMax.to(s,.5,{alpha:1}),o[n+"Con"].gotoAndStop(i),a.alpha=0,a.interactive=!1,a.x=a.defaultPos.x,a.y=a.defaultPos.y,TweenMax.to(r,.5,{alpha:1,onComplete:function(){r.interactive=!0}})}})):TweenMax.to(this,.5,{x:this.defaultPos.x,y:this.defaultPos.y,ease:Sine.easeInOut})}}(),function(){d.defaultPos={x:d.x,y:d.y},s.x=a.timeCon.defaultPos.x+600,a.btn.addEventListener(TouchEvent.TAP,function(){var t=this;TweenMax.to(this,.5,{alpha:0,onStart:function(){t.interactive=!1}}),instance.NBDownTip.hideTip(),e.targetTemp=e.disTemp+e.temp,TweenMax.killTweensOf(s),TweenMax.to(s,.5,{x:s.defaultPos.x,ease:Sine.easeInOut,onComplete:function(){s.timeline.setAutoPlay(!0,2)}})}),i.default.init.apply(s.timeline),s.timeline.setAutoPlay(!1),s.timeline.addEventListener(i.default.event.ON_PLAY,function(t){s.temp.text=Math.round(t.time*(e.targetTemp-20)+20),1-t.time<=.05?a.drag.interactive=!0:a.drag.interactive=!1}),NBDrag.addDrag(d),d.addEventListener(NBDrag.event.START_DRAG,function(){a.drag.isDrag=!0,instance.NBDownTip.hideTip(),this.removeChild(this.point),function(){for(var t=a["s"+e.group.inCurrentShadow],n=0;n<3;n++){var i=a["s"+n];TweenMax.to(i,.3,{alpha:.3})}TweenMax.killTweensOf(t),t.alpha=0}(),c()}),d.addEventListener(NBDrag.event.STOP_DRAG,function(){var t=this;this.interactive=!1;for(var n=[],i=0;i<3;i++){var r=a["s"+i];n.push(Math.abs(r.rotation-this.rotation))}var o=n[0],s=0;n.forEach(function(e,t){e<=o&&(o=e,s=t)}),h(),TweenMax.to(this,.5,{rotation:a["s"+s].rotation,onComplete:function(){t.interactive=!0,e.disTemp=l[s],e.group.inCurrentShadow=s,a.text.text=u[s],TweenMax.to(a.btn,.5,{alpha:1,onStart:function(){a.btn.interactive=!0}})}})}),d.addEventListener(NBDrag.event.DRAG_MOVE,function(e){d.position.x=d.defaultPos.x,d.position.y=d.defaultPos.y;var t=e.data.global,a=this.toGlobal(new PIXI.Point),n=Math.atan2(t.x-a.x,-t.y+a.y);n>=0&&n<=Math.PI/2?this.rotation=n:n<0?this.rotation=0:n>Math.PI/2&&(this.rotation=Math.PI/2)}),h()}()},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"如何制作一个能高效的吸热的热水器呢？它的本领与什么有关？",labName:"评价热水器",CONCLUSION:"集热管的颜色、反光板的材质以及放置的角度都会影响集热效果。",newLayOut:!0},const:{btnsNum:24,rows:6,sameGroup:5,oneRowNum:6},event:{}}),e.exports=nb.substance0691},520:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var e,t,a=this;if(a.bgMask){var i=a.bgMask.getChildAt(0);a.progressBar.mask=i,i.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,s=[];a.drag.lastPos={x:a.drag.x,y:a.drag.y};for(var d=0;d<int.MAX_VALUE;d++){var l=this["a"+d];if(void 0===l){t="vertical"===r?this["a"+(d-1)].y:this["a"+(d-1)].x,o=d;break}s.push(l),0===d&&(e="vertical"===r?l.y:l.x),l.addEventListener(TouchEvent.TAP,function(){var e=this;"vertical"===r?TweenMax.to(a.drag,.5,{y:this.y}):TweenMax.to(a.drag,.5,{x:this.x,onComplete:function(){a.emit(n.event.CLICK_NODE_REACHED,{index:e.name.substr(1,1)})}}),this.totalFrames&&(s.forEach(function(e){return e.currentFrame=0}),this.currentFrame=1),a.drag.lastPos={x:this.x,y:this.y},a.emit(n.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(i){i?(NBDrag.addDrag(a.drag),a.drag.on(NBDrag.event.START_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.START_DRAG,{time:i})}),a.drag.on(NBDrag.event.DRAG_MOVE,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.DRAGING,{time:i})}),a.drag.on(NBDrag.event.STOP_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.STOP_DRAG,{time:i}),i>=1&&a.emit(n.event.ON_COMPLETE,{time:i})})):NBDrag.removeDrag(a.drag)},a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var n=o-1;if("vertical"===r){var i=Math.round((this.y-e)/(t-e)*n);i<0&&(i=0)}else{var s=Math.round((this.x-e)/(t-e)*n);s<0&&(s=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){c()});var u=!1;a.drag.constY=a.drag.y;var h,c=function(){a.drag.y=a.drag.constY,a.drag.x>=t&&(a.drag.x=t),a.drag.x<=e&&(a.drag.x=e);var i=(a.drag.x-e)/(t-e);if(i<1){u=!1,a.emit(n.event.ON_PLAY,{time:i});for(var r=0;r<s.length;r++)a.drag.lastPos.x<=s[r].x&&a.drag.x>s[r].x&&a.emit(n.event.REACHED_NODE,{index:r})}else u||(u=!0,a.emit(n.event.ON_COMPLETE,{time:i}));(a.drag.line0&&(a.drag.line0.rotation=1800*i*Math.PI/180,a.drag.line1.rotation=360*i*Math.PI/180),a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=i);a.drag.lastPos={x:a.drag.x,y:a.drag.y}};this.getNodeCount=function(){return o},this.setNodePos=function(e){var t=this["a"+e];"vertical"===r?a.drag.y=t.y:a.drag.x=t.x},nb.MovieClip.ticker.add(function(){a._auto_&&!a.drag.isDragging&&("vertical"===r?a.drag.y+=a._speed_:a.drag.x+=a._speed_,c())}),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,n){clearTimeout(h),e&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(h),a.setAutoPlay(!1),h=setTimeout(function(){a.setAutoPlay(!0,n)},t)):a.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=0)}}};t.default=n},521:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e||{};var t=this,a=[];n.default.init.apply(this.timeline);for(var i=0;i<this.timeline.getNodeCount();i++){var r=this["step"+i];a.push(r),r.alpha=0,r.visible=!1}var o=this.step0;o.visible=!0,o.alpha=1;var s=0;this.timeline.on(n.default.event.CLICK_NODE,function(n){if(void 0!==n.index&&n.index!=s){var i=e.offset||1200;i=n.index>s?$s(i):-$s(i);var r=void 0!==o.currentX?o.currentX:o.currentX=o.x;TweenMax.to(o,e.oldTm||.6,{x:r+i,alpha:0,onComplete:function(t){t.visible=!1,e.isFix||(t.y=0)},onCompleteParams:[o],ease:Expo.easeOut}),s=n.index,(o=a[s]).visible=!0,r=void 0!==o.currentX?o.currentX:o.currentX=o.x,o.x=r-i,TweenMax.to(o,e.newTm||1,{x:r,alpha:1,ease:Expo.easeOut,onComplete:function(){t.emit(t.boxSwitch_event.CHANGE_COM,{target:o,index:n.index})}})}}),this.addEventListener("render",function(){o.onUpdate&&o.onUpdate()}),t.boxSwitch_event={CHANGE_COM:"changeCom"}};var n=function(e){return e&&e.__esModule?e:{default:e}}(a(520))}});