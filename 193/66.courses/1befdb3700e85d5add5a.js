webpackJsonp([66],{169:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,i,t,a){for(var r=new PIXI.Container,n=new PIXI.filters.ColorMatrixFilter,s=t||!1,o=a||{addArrow:!1,type:"horizontal",scale:1},h=new PIXI.Container,d=0;d<3;++d){var p=d+1,l=PIXI.Sprite.fromFrame("TAP_1"+p);l.x=-l.width/2,l.y=-l.height/2;var c=new PIXI.Container;c.addChild(l),h.addChild(c)}var v=0;if(o.direction)switch(o.direction){case"top":v=-Math.PI/2;break;case"bottom":v=Math.PI/2;break;case"left":v=Math.PI;break;case"right":v=0;break;default:v=0}h.filters=[n];for(var f=0;f<h.children.length;f++){var u=h.children[f];u.scale.x=u.scale.y=2,f<2&&g(u,.75*f)}if(r.addChild(h),o.addArrow){var m,T;if(o.direction){m=PIXI.Sprite.fromFrame("oneArrow"),T=new PIXI.extras.MovieClip([m]);var w=o.scale?o.scale:1;T.scale.x=T.scale.y=w,T.pivot={x:0,y:T.height/2},T.rotation=v}else{m=PIXI.Sprite.fromFrame("NBarrow"),(T=new PIXI.extras.MovieClip([m])).pivot={x:T.width/2,y:T.height/2};var D=o.scale?o.scale:1;T.scale.x=T.scale.y=D,"horizontal"!==(o.type?o.type:"horizontal")&&(T.rotation=Math.PI/2)}r.addChild(T),r.arrow=T,r.addEventListener("hideArrow",function(){T.alpha=0,T.visible=!1}),r.addEventListener("showArrow",function(){T.alpha=1,T.visible=!0})}h.alpha=.4;var x=new PIXI.Graphics;function g(e,i){TweenMax.to(e,1.5,{delay:i,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:i,repeat:-1})}return x.beginFill(16776960,0),x.drawRect(-50,-50,100,100),r.addChild(x),r.addEventListener(MouseEvent.MOUSE_OVER,function(){h.alpha=.6}),r.addEventListener(MouseEvent.MOUSE_OUT,function(){h.alpha=.4}),r.addEventListener(TouchEvent.TOUCH_BEGIN,function(){r.emit(r.event.TAP),!s&&r.parent&&r.parent.removeChild(r)}),r.x=e,r.y=i,r.setColor=function(e){var i=e>>16,t=e>>8&255,a=255&e;n._loadMatrix([i,0,0,0,0,0,t,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),h.filters=[n]},r.setRotation=function(e){r.rotation=e},r.showAllDir=function(){if(o.direction)for(var e=0;e<3;e++){var i=new PIXI.Container;i.addChild(PIXI.Sprite.fromFrame("oneArrow")),r.addChild(i),i.pivot={x:0,y:T.height/2},i.rotation=Math.PI/2*(e+1)}else{var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("NBarrow")),r.addChild(t),t.pivot={x:T.width/2,y:T.height/2},t.rotation=r.rotation+Math.PI/2}},r.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&r.scale.set(.6,.6),r}},343:function(e,i,t){"use strict";var a=s(t(528)),r=s(t(531)),n=s(t(169));function s(e){return e&&e.__esModule?e:{default:e}}nb.substance0133=extendsClass(ScienceMain,{frame0:function(){var e=this;NBDrag.addDrag(e.breaker);var i=(0,n.default)(0,0),t=e.breaker.x,s=e.breaker.y;e.breaker.setCurrentCapacity("60%"),e.breaker.addEventListener(NBDrag.event.START_DRAG,d),e.breaker.addEventListener(NBDrag.event.STOP_DRAG,function(){var i=this;this.interactive=!1,this.con.hitTest(e.evapDish.hit)?(NBDrag.removeDrag(e.breaker),e.breaker.isHit=!0,TweenMax.to(this,1,{x:e.evapDish.x+e.evapDish.width,y:e.evapDish.y,rotation:-Math.PI/3,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(e.breaker,1,{rotation:0,onComplete:function(){TweenMax.to(e.breaker,1,{x:"+= 800",alpha:0,onComplete:p})}})}}),e.evapDish.setCapacityTween("70%",2)):TweenMax.to(this,.5,{x:t,y:s,ease:Sine.easeInOut,onComplete:function(){e.waterTxt.alpha=1,i.interactive=!0,v()}})});var o=[e.evapDish2,e.tripod,e.tripodBg,e.spiritLamp,e.matches],h=ParticleUtil.getParticle(ParticleUtil.particles.water_vapor);function d(){e.waterTxt.alpha=0,this.removeChild(this.Point),instance.NBDownTip.hideTip()}function p(){e.evapDish2.visible=!1,e.addChild(e.evapDish),e.dishTxt0.alpha=0,TweenMax.to(o,1,{y:"-=400",alpha:1,onComplete:function(){o.forEach(function(e){e.interactiveChildren=!0}),TweenMax.to(e.evapDish,1,{x:e.evapDish2.x,y:e.evapDish2.y,onComplete:function(){v(),e.evapDish.addChild(h),h.alpha=0,h.scale.x=2.7,h.scale.y=2,h.x=$s(20),h.y=$s(45),e.matches.on(a.default.event.MOVING,function(){e.matches.match.fireArea.hitTest(e.spiritLamp.head)&&e.spiritLamp.lightFire()}),e.spiritLamp.on(NBDrag.event.STOP_DRAG,function(){if(this.hitTest(e.tripod))if(this.isBurning()){NBDrag.removeDrag(this),NBDrag.removeDrag(this.cover),this.x=e.tripod.x,this.y=e.tripod.y+$s(50);var i=e.getChildIndex(e.tripodBg)+1;this.parent.addChildAt(this.fire,i),this.parent.addChildAt(this,i),c=!0}else instance.NBDownTip.showTip(instance.info.OPERATION_1),TweenMax.to(this,.3,{x:this.dx,y:this.dy});else v()})}})}})}e.evapDish.med.alpha=0,o.forEach(function(e){e.alpha=0,e.interactiveChildren=!1,e.y+=500}),v();var l=!0,c=!1;function v(){return e.breaker.isHit?e.spiritLamp.corver.isRemove?e.spiritLamp.isBurning()?e.spiritLamp.isBurning()?(instance.NBDownTip.showTip("请将酒精灯放入三脚架下"),e.spiritLamp.addChild(i),i.position={x:0,y:80},void(e.spiritLamp.Point=i)):void 0:(instance.NBDownTip.showTip("请使用火柴点燃酒精灯"),e.matches.addChild(i),i.position={x:48,y:38},void(e.matches.Point=i)):(instance.NBDownTip.showTip("请将酒精灯帽子取下"),e.spiritLamp.cover.addChild(i),i.position={x:0,y:10},void(e.spiritLamp.cover.Point=i)):(instance.NBDownTip.showTip("请将浓盐水倒入蒸发皿中"),i.position={x:e.breaker.width/2,y:e.breaker.height/2},e.breaker.addChild(i),void(e.breaker.Point=i))}a.default.init(e.matches,{defaultPo:!0}),r.default.init.apply(e.spiritLamp,[{fire:ParticleUtil.particles.match_fire}]),e.onUpdate=function(){if(e.spiritLamp.render(),e.matches.render(),h.render(),c&&l){l=!1;var i=TweenMax.to(e.evapDish2,8,{delay:2,onUpdate:function(){h.alpha=.2*Math.sin(i.progress()*Math.PI)},onStart:function(){e.evapDish.setCapacityTween("0%",8),TweenMax.to(e.evapDish.med,2,{alpha:1,delay:6})},onComplete:function(){TweenMax.to(e.spiritLamp,.5,{x:"+= 280",ease:Sine.easeInOut,onComplete:function(){e.spiritLamp.addChildWithSamePos(e.spiritLamp.corver),TweenMax.to(e.spiritLamp.corver,1,{x:$s(-1),y:$s(-30),onComplete:function(){e.spiritLamp.putFire(),TweenMax.to([e.spiritLamp,e.matches],.8,{x:"+=1000",alpha:0,ease:Sine.easeInOut,onComplete:function(){TweenMax.to([e.evapDish,e.tripod,e.tripodBg,e.spiritLamp],1,{x:"+=310",ease:Sine.easeInOut}),e.matches.interactiveChildren=!1,e.spiritLamp.interactiveChildren=!1}})}})}})}})}},e.spiritLamp.corver.addEventListener(NBDrag.event.START_DRAG,d),e.spiritLamp.corver.addEventListener(NBDrag.event.STOP_DRAG,function(){e.spiritLamp.corver.hitTest(e.spiritLamp.body)||(e.spiritLamp.corver.interactive=!1,NBDrag.removeDrag(e.spiritLamp.cover),e.spiritLamp.corver.isRemove=!0,TweenMax.to(e.spiritLamp.corver,.5,{x:e.matches.x-100,y:e.matches.y}));v()}),e.matches.match.addEventListener(NBDrag.event.STOP_DRAG,function(){e.spiritLamp.isBurning()&&(e.spiritLamp.isBurn=!0),v()}),e.matches.match.addEventListener(NBDrag.event.START_DRAG,d),e.spiritLamp.addEventListener(NBDrag.event.START_DRAG,d),e.spiritLamp.addEventListener(NBDrag.event.START_DRAG,d)},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"加热蒸发浓盐水，会发生什么呢？",labName:"分离食盐和水的方法",CONCLUSION:"可以通过加热蒸发的方法从盐水里蒸发出来食盐。",OPERATION_1:"请点燃酒精灯后再放置",newLayOut:!0},const:{},event:{}}),e.exports=nb.substance0133},528:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});!function(e){e&&e.__esModule}(t(169));var a={event:{START:"matchesBegin",MOVING:"moving",STOP:"matchesEnd"},init:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e,r=t.match;r.visible=!1,NBDrag.addDrag(r);var n=Object.assign({defaultPo:!0},i),s=null;function o(){r.visible=!1,t.putFire()}t.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){t.getBounds();r.visible=!0,r.alpha=1;var i=t.toLocal(e.data.global);r.x=i.x,r.y=i.y,null==s&&((s=ParticleUtil.getParticle(ParticleUtil.particles.match_fire)).alpha=.4,t.stepRoot.addChild(s),n.defaultPo?s.bind(r,$s(0),$s(50)):s.bind(r,$s(-65),$s(20)),window.part=s),s.visible=!0,t.fire=s,t.emit(a.event.START,{matches:r}),TouchEvent.simulateTouchDown(r,e)}),r.addEventListener(NBDrag.event.STOP_DRAG,function(){t.emit(a.event.STOP,{matches:r}),o()}),t.render=function(){1==r.visible&&s&&s.render()},r.addEventListener(TouchEvent.TOUCH_MOVE,function(){t.emit(a.event.MOVING,{matches:r})}),t.putFire=function(){null!=s&&(s.visible=!1,s.destroy(),s=null),r.sound&&(r.sound.stop(),r.sound=null)},t.hideMatch=o,t.isBurning=function(){return null!=s}}};i.default=a},531:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a={event:{LIGHT_FIRE:"lightFire",PUT_FIRE:"putFire",COVER_DOWN:"coverDown"},init:function(){var e={},i=arguments[0];e.offsetX=void 0==e.offsetX?0:e.offsetX,e.offsetY=void 0==e.offsetY?0:e.offsetY,e.scaleX=void 0==e.scaleX?1:e.scaleX,e.scaleY=void 0==e.scaleY?1:e.scaleY;var t={x:this.corver.x,y:this.corver.y},r=this;NBDrag.addDrag(this.corver),NBDrag.addDrag(this),this.corver.on(NBDrag.event.START_DRAG,function(e){e.data.isPropagationStopped=!0,"spiritLamp"===this.parent.name&&this.parent.parent.addChildWithSamePos(this)}),this.corver.on(NBDrag.event.STOP_DRAG,function(){this.hitTest(r.body)?(r.addChild(this),this.x=t.x,this.y=t.y,0==i||this.parent.putFire()):r.emit(a.event.COVER_DOWN)}),this.lightFire=function(){this.corver.hitTest(this.body)&&!0===this.corver.visible||(null==this.fire&&(this.fire=ParticleUtil.getParticle(e.fire||ParticleUtil.particles.spirit_fire),this.fire.scale.set(e.scaleX,e.scaleY),this.parent.addChildAt(this.fire,r.parent.getChildIndex(r)+1),this.fire.bind(this,-10+e.offsetX,10+e.offsetY),this.fire.alpha=.6),this.fire.visible=!0,this.emit(a.event.LIGHT_FIRE))},this.putFire=function(){this.fire&&(this.fire.visible=!1,this.fire.destroy(),this.fire=null,this.emit(a.event.PUT_FIRE)),this.fire_blue&&(this.fire_blue.visible=!0,this.fire_blue.destroy(),this.fire_blue=null)},this.render=function(){return!!this.isBurning()&&(this.fire&&this.fire.render(!0),this.fire_blue&&this.fire_blue.render(!0),!0)},this.isBurning=function(){return this.fire&&this.fire.visible},this.hideCover=function(e){this.cover.visible=!e},this.cover=this.corver}};i.default=a}});