webpackJsonp([56,113],{169:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){for(var i=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,o=a||!1,s=n||{addArrow:!1,type:"horizontal",scale:1},d=new PIXI.Container,l=0;l<3;++l){var h=l+1,c=PIXI.Sprite.fromFrame("TAP_1"+h);c.x=-c.width/2,c.y=-c.height/2;var v=new PIXI.Container;v.addChild(c),d.addChild(v)}var u=0;if(s.direction)switch(s.direction){case"top":u=-Math.PI/2;break;case"bottom":u=Math.PI/2;break;case"left":u=Math.PI;break;case"right":u=0;break;default:u=0}d.filters=[r];for(var f=0;f<d.children.length;f++){var p=d.children[f];p.scale.x=p.scale.y=2,f<2&&E(p,.75*f)}if(i.addChild(d),s.addArrow){var g,m;if(s.direction){g=PIXI.Sprite.fromFrame("oneArrow"),m=new PIXI.extras.MovieClip([g]);var x=s.scale?s.scale:1;m.scale.x=m.scale.y=x,m.pivot={x:0,y:m.height/2},m.rotation=u}else{g=PIXI.Sprite.fromFrame("NBarrow"),(m=new PIXI.extras.MovieClip([g])).pivot={x:m.width/2,y:m.height/2};var T=s.scale?s.scale:1;m.scale.x=m.scale.y=T,"horizontal"!==(s.type?s.type:"horizontal")&&(m.rotation=Math.PI/2)}i.addChild(m),i.arrow=m,i.addEventListener("hideArrow",function(){m.alpha=0,m.visible=!1}),i.addEventListener("showArrow",function(){m.alpha=1,m.visible=!0})}d.alpha=.4;var A=new PIXI.Graphics;function E(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return A.beginFill(16776960,0),A.drawRect(-50,-50,100,100),i.addChild(A),i.addEventListener(MouseEvent.MOUSE_OVER,function(){d.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){d.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!o&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=t,i.setColor=function(e){var t=e>>16,a=e>>8&255,n=255&e;r._loadMatrix([t,0,0,0,0,0,a,0,0,0,0,0,n,0,0,0,0,0,255,0],!1),d.filters=[r]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(s.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(t),t.pivot={x:0,y:m.height/2},t.rotation=Math.PI/2*(e+1)}else{var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(a),a.pivot={x:m.width/2,y:m.height/2},a.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},251:function(e,t,a){"use strict";var n=r(a(520)),i=r(a(169));function r(e){return e&&e.__esModule?e:{default:e}}nb.substance0251=extendsClass(ScienceMain,{frame0:function(e,t){var a=this,r=a.top,o=a.snake,s=a.timeline,d=a.txt0,l=a.txt1,h=5,c=[],v=[];s.visible=!1;var u=(0,i.default)(100,45),f=!1;function p(){if(o.hitTest(a.box)){f=!0;for(var e=0;e<h;e++){var n=a.box["snake"+e],i=2*Math.random()+2;TweenMax.to(n,.5,{alpha:1}),TweenMax.to(n,i,{currentFrame:n.totalFrames-2,yoyo:!0,repeat:-1,ease:Linear.easeNone})}TweenMax.to(o,.5,{alpha:0,onComplete:function(){o.visible=!1,NBDrag.removeDrag(o),NBDrag.addDrag(r),instance.NBDownTip.showTip("拖动盒盖，盖上盒子"),u.position.set(0,0),t&&u.position.set(t.x,t.y),r.addChild(u),r.tapPoint=u,r.addEventListener(NBDrag.event.STOP_DRAG,x),r.addEventListener(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),r.removeChild(u)})}})}}function g(){f?r.removeEventListener(TouchEvent.TOUCH_BEGIN,g):instance.NBDownTip.showTip(instance.info.OPERATION_0)}d.alpha=0,l.alpha=0,function(){for(var e=0;e<h;e++){v.push(Math.PI+.4*Math.random()-.2);var t=a.box["snake"+e];c.push(Math.random()+.5),t.alpha=0}instance.NBDownTip.showTip("将蚯蚓放入盒子中"),o.addChild(u),o.tapPoint=u,NBDrag.addDrag(o),r.addEventListener(TouchEvent.TOUCH_BEGIN,g),o.addEventListener(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),o.removeChild(u),this.parent.addChild(this)}),o.addEventListener(NBDrag.event.STOP_DRAG,p)}();var m=!1;function x(){this.hitTest(a.box)&&(TweenMax.to([d,l],.3,{alpha:1}),NBDrag.removeDrag(r),r.b=!1,TweenMax.to(this,.5,{x:a.box.x,y:a.box.y-25}),TweenMax.to(this,.5,{alpha:.5,onComplete:function(){for(var e=0;e<h;e++){var t=a.box["snake"+e];TweenMax.killTweensOf(t);var i=new TimelineMax;t.timeline=i,t.t2=TweenMax.to(t,c[e],{rotation:Math.PI+.2*Math.random()-.1}),i.append(t.t2),t.t3=TweenMax.to(t,4,{x:100*-Math.random()-100,y:t.y+60*Math.random()-30,ease:Linear.easeNone}),i.append(t.t3)}a.box.addChildWithSamePos(r),s.visible=!0,n.default.init.apply(s),s.setAutoPlay(!0,1),s.setAutoAlign(!1),s.setDrag(!0),s.addEventListener(n.default.event.ON_PLAY,function(e){T(e.time)}),s.addEventListener(n.default.event.ON_COMPLETE,function(){m=!0,s.setDrag(!1)}),s.addEventListener(n.default.event.CLICK_NODE_REACHED,function(){s.setDrag(!0)})}}))}function T(t){r.b=!1;for(var n=0;n<h;n++){var i=a.box["snake"+n];i.timeline.gotoAndStop(t*(c[n]+4));var o=i.t2.progress(),s=i.t3.progress();if(0!=o&&1!=o)i.gotoAndStop(o*(i.totalFrames-2)*5%(i.totalFrames-2));else if(0!=s&&1!=s){var d=i.a;i.gotoAndStop(i.totalFrames-1),d.gotoAndStop(s*(d.totalFrames-1)*10%(d.totalFrames-1))}if(1==s)if(e)i.currentFrame<i.totalFrames-2?(i.play(),i.animationSpeed=c[n]/2,i.rotation=v[n]):i.gotoAndStop(0);else{var l=i.a;l.play(),l.animationSpeed=.5}}}a.onUpdate=function(){m&&T(1)}},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"植物的生存需要一定的环境，动物也是这样么？我们可以用蚯蚓做一个小实验。",labName:"蚯蚓喜欢的环境2",title0:"将5条蚯蚓放入装有土壤的中间，盖上盒子，观察5分钟后的现象。",OPERATION_0:"请将5条蚯蚓放入装有土壤的中间，再盖上盒子",CONCLUSION:"蚯蚓的生存需要一定的环境，蚯蚓更喜欢潮湿的环境。"},const:{},event:{}}),e.exports=nb.substance0251},367:function(e,t,a){"use strict";a(251),nb.substance0184=extendsClass(ScienceMain,{frame0:function(){instance.getNBLib("0251").frame0.apply(this,[!0,{x:-120,y:0}])},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"植物的生存需要一定的环境，动物也是这样么？",labName:"蚯蚓喜欢的环境1",title0:"将5条蚯蚓放入黑边小盒子内，盖上盒子，观察5分钟后的现象。",OPERATION_0:"请将5条蚯蚓放入装有土壤的中间，再盖上盒子",CONCLUSION:"蚯蚓的生存需要一定的环境，蚯蚓更喜欢阴暗的环境。"},const:{},event:{}}),e.exports=nb.substance0184},520:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var e,t,a=this;if(a.bgMask){var i=a.bgMask.getChildAt(0);a.progressBar.mask=i,i.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,s=[];a.drag.lastPos={x:a.drag.x,y:a.drag.y};for(var d=0;d<int.MAX_VALUE;d++){var l=this["a"+d];if(void 0===l){t="vertical"===r?this["a"+(d-1)].y:this["a"+(d-1)].x,o=d;break}s.push(l),0===d&&(e="vertical"===r?l.y:l.x),l.addEventListener(TouchEvent.TAP,function(){var e=this;"vertical"===r?TweenMax.to(a.drag,.5,{y:this.y}):TweenMax.to(a.drag,.5,{x:this.x,onComplete:function(){a.emit(n.event.CLICK_NODE_REACHED,{index:e.name.substr(1,1)})}}),this.totalFrames&&(s.forEach(function(e){return e.currentFrame=0}),this.currentFrame=1),a.drag.lastPos={x:this.x,y:this.y},a.emit(n.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(i){i?(NBDrag.addDrag(a.drag),a.drag.on(NBDrag.event.START_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.START_DRAG,{time:i})}),a.drag.on(NBDrag.event.DRAG_MOVE,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.DRAGING,{time:i})}),a.drag.on(NBDrag.event.STOP_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.STOP_DRAG,{time:i}),i>=1&&a.emit(n.event.ON_COMPLETE,{time:i})})):NBDrag.removeDrag(a.drag)},a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var n=o-1;if("vertical"===r){var i=Math.round((this.y-e)/(t-e)*n);i<0&&(i=0)}else{var s=Math.round((this.x-e)/(t-e)*n);s<0&&(s=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){v()});var h=!1;a.drag.constY=a.drag.y;var c,v=function(){a.drag.y=a.drag.constY,a.drag.x>=t&&(a.drag.x=t),a.drag.x<=e&&(a.drag.x=e);var i=(a.drag.x-e)/(t-e);if(i<1){h=!1,a.emit(n.event.ON_PLAY,{time:i});for(var r=0;r<s.length;r++)a.drag.lastPos.x<=s[r].x&&a.drag.x>s[r].x&&a.emit(n.event.REACHED_NODE,{index:r})}else h||(h=!0,a.emit(n.event.ON_COMPLETE,{time:i}));(a.drag.line0&&(a.drag.line0.rotation=1800*i*Math.PI/180,a.drag.line1.rotation=360*i*Math.PI/180),a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=i);a.drag.lastPos={x:a.drag.x,y:a.drag.y}};this.getNodeCount=function(){return o},this.setNodePos=function(e){var t=this["a"+e];"vertical"===r?a.drag.y=t.y:a.drag.x=t.x},nb.MovieClip.ticker.add(function(){a._auto_&&!a.drag.isDragging&&("vertical"===r?a.drag.y+=a._speed_:a.drag.x+=a._speed_,v())}),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,n){clearTimeout(c),e&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(c),a.setAutoPlay(!1),c=setTimeout(function(){a.setAutoPlay(!0,n)},t)):a.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=0)}}};t.default=n}});